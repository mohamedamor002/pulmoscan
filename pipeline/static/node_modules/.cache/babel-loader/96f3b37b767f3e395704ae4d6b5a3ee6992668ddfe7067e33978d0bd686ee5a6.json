{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth,ROLES,canManageAdmins,canManageDoctors,canManageRole}from'../contexts/AuthContext';import{useTheme}from'../contexts/ThemeContext';import axios from'axios';import{PlusIcon,PencilIcon,TrashIcon,ExclamationCircleIcon,ShieldCheckIcon,UserIcon}from'@heroicons/react/24/outline';import{toast}from'../utils/toast';import Modal from'../components/Modal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UsersPage=()=>{const[users,setUsers]=useState([]);const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(null);const[showCreateUserModal,setShowCreateUserModal]=useState(false);const[showEditUserModal,setShowEditUserModal]=useState(false);const[showDeleteUserModal,setShowDeleteUserModal]=useState(false);const[userToEdit,setUserToEdit]=useState({username:'',role:'',email:'',description:'',plan:'usage_based',password:''});const[userToDelete,setUserToDelete]=useState(null);const{user:currentUser,canManageAdmins:userCanManageAdmins,canManageDoctors:userCanManageDoctors}=useAuth();const{darkMode}=useTheme();// Form states for creating and editing users\nconst[formUsername,setFormUsername]=useState('');const[formPassword,setFormPassword]=useState('');const[formRole,setFormRole]=useState(ROLES.DOCTOR);const[formFirstName,setFormFirstName]=useState('');const[formLastName,setFormLastName]=useState('');const[formEmail,setFormEmail]=useState('');const[formError,setFormError]=useState('');const PLANS={USAGE_BASED:'usage_based',ONE_TIME:'one_time',SUBSCRIPTION:'subscription'};const PLAN_LABELS={usage_based:'Usage Based',one_time:'One Time Payment',subscription:'Subscription'};const[newUser,setNewUser]=useState({username:'',password:'',email:'',role:'doctor',description:'',plan:PLANS.USAGE_BASED});// Fetch users from the API\nconst fetchUsers=async()=>{try{setIsLoading(true);const response=await axios.get('/api/users');// Filter users based on role permissions\nlet filteredUsers=response.data;// If not a superadmin, filter out superadmins\nif(currentUser.role!==ROLES.SUPERADMIN){filteredUsers=filteredUsers.filter(user=>user.role!==ROLES.SUPERADMIN);}// If not an admin or superadmin, filter out admins too\nif(!userCanManageDoctors){filteredUsers=filteredUsers.filter(user=>user.role===ROLES.DOCTOR);}setUsers(filteredUsers);setIsLoading(false);}catch(error){console.error('Error fetching users:',error);setError('Failed to load users. Please try again later.');setIsLoading(false);}};useEffect(()=>{fetchUsers();},[currentUser.role]);// Check if current user can access the users page\nif(!currentUser||!userCanManageDoctors){return/*#__PURE__*/_jsx(\"div\",{className:`text-center py-12 ${darkMode?'text-white':''}`,children:/*#__PURE__*/_jsx(\"div\",{className:`${darkMode?'bg-red-900':'bg-red-50'} p-4 rounded-md inline-block`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(ExclamationCircleIcon,{className:`h-5 w-5 ${darkMode?'text-red-300':'text-red-400'}`}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:`text-sm font-medium ${darkMode?'text-red-300':'text-red-800'}`,children:\"Unauthorized Access\"}),/*#__PURE__*/_jsx(\"div\",{className:`mt-2 text-sm ${darkMode?'text-red-300':'text-red-700'}`,children:/*#__PURE__*/_jsx(\"p\",{children:\"You do not have permission to access this page. This page is only available to administrators.\"})})]})]})})});}// Get available roles based on current user's role\nconst getAvailableRoles=()=>{const roles=[];// If current user is not defined yet, return an empty array\nif(!currentUser){return roles;}// Add roles based on permissions\nif(canManageRole(currentUser.role,ROLES.DOCTOR)){roles.push({value:ROLES.DOCTOR,label:'Doctor'});}if(canManageRole(currentUser.role,ROLES.RADIOLOGIST)){roles.push({value:ROLES.RADIOLOGIST,label:'Radiologist'});}if(canManageRole(currentUser.role,ROLES.ADMIN)){roles.push({value:ROLES.ADMIN,label:'Admin'});}if(canManageRole(currentUser.role,ROLES.SUPERADMIN)){roles.push({value:ROLES.SUPERADMIN,label:'Super Admin'});}return roles;};// Create a new user\nconst handleCreateUser=async e=>{e.preventDefault();if(!canManageRole(newUser.role)){toast.error('You do not have permission to create users with this role');return;}try{const response=await fetch('/api/users',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(newUser)});if(!response.ok){const error=await response.json();throw new Error(error.error||'Failed to create user');}const data=await response.json();setUsers([...users,data]);setShowCreateUserModal(false);setNewUser({username:'',password:'',email:'',role:'doctor',description:'',plan:PLANS.USAGE_BASED});toast.success('User created successfully');}catch(error){toast.error(error.message);}};// Update an existing user\nconst handleUpdateUser=async e=>{e.preventDefault();// Ensure currentUser exists\nif(!currentUser){toast.error('You must be logged in to perform this action');return;}try{// Check if user has permission for the selected role\nif(!canManageRole(userToEdit.role)){toast.error('You do not have permission to assign this role');return;}// Prevent downgrading superadmins if not a superadmin\nif(userToEdit.role===ROLES.SUPERADMIN&&currentUser.role!==ROLES.SUPERADMIN){toast.error('You cannot modify a super admin account');return;}const response=await fetch(`/api/users/${userToEdit.username}`,{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({role:userToEdit.role,email:userToEdit.email,description:userToEdit.description,plan:userToEdit.plan,...(userToEdit.password?{password:userToEdit.password}:{})})});if(!response.ok){const error=await response.json();throw new Error(error.error||'Failed to update user');}// Refresh users list\nfetchUsers();setShowEditUserModal(false);toast.success('User updated successfully');}catch(error){toast.error(error.message||'Failed to update user');}};// Delete a user\nconst handleDeleteUser=async()=>{if(!userToDelete)return;try{// Check permissions for role deletion\nif(userToDelete.role===ROLES.SUPERADMIN&&currentUser.role!==ROLES.SUPERADMIN){setError('You do not have permission to delete super admin accounts.');setShowDeleteUserModal(false);return;}// Prevent admins from deleting other admins (only superadmins can)\nif(userToDelete.role===ROLES.ADMIN&&currentUser.role===ROLES.ADMIN){setError('Admins cannot delete other admin accounts.');setShowDeleteUserModal(false);return;}// Prevent deleting your own account\nif(userToDelete.username===currentUser.username){setError('You cannot delete your own account.');setShowDeleteUserModal(false);return;}const response=await axios.delete(`/api/users/${userToDelete.username}`);// Reset and close modal\nsetUserToDelete(null);setShowDeleteUserModal(false);// Refresh users list\nfetchUsers();}catch(error){var _error$response,_error$response$data;console.error('Error deleting user:',error);setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Failed to delete user. Please try again.');}};// Open the edit user modal\nconst openEditUserModal=user=>{setUserToEdit({...user,password:''// Don't prefill password for security\n});setShowEditUserModal(true);};// Open the delete user modal\nconst openDeleteUserModal=user=>{setUserToDelete(user);setShowDeleteUserModal(true);};return/*#__PURE__*/_jsxs(\"div\",{className:`space-y-6 ${darkMode?'text-white':''}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:`text-2xl font-semibold ${darkMode?'text-white':'text-gray-900'}`,children:\"User Management\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setFormUsername('');setFormPassword('');// Set default role based on user's permissions\nsetFormRole(userCanManageAdmins?ROLES.ADMIN:ROLES.DOCTOR);setFormFirstName('');setFormLastName('');setFormEmail('');setFormError('');setShowCreateUserModal(true);},className:`flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500`,children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-5 w-5 mr-1\"}),\"Add User\"]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:`${darkMode?'bg-red-900':'bg-red-50'} p-4 rounded-md`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(ExclamationCircleIcon,{className:`h-5 w-5 ${darkMode?'text-red-300':'text-red-400'}`}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"h3\",{className:`text-sm font-medium ${darkMode?'text-red-300':'text-red-800'}`,children:error})})]})}),isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-indigo-600 border-r-transparent\"}),/*#__PURE__*/_jsx(\"p\",{className:`mt-4 ${darkMode?'text-gray-300':'text-gray-600'}`,children:\"Loading users...\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 flex flex-col\",children:/*#__PURE__*/_jsx(\"div\",{className:\"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-300 dark:divide-gray-700\",children:[/*#__PURE__*/_jsx(\"thead\",{className:`${darkMode?'bg-gray-800':'bg-gray-50'}`,children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 dark:text-gray-100 sm:pl-6\",children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-gray-100\",children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-gray-100\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-gray-100\",children:\"Plan\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-gray-100\",children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"relative py-3.5 pl-3 pr-4 sm:pr-6\",children:/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Actions\"})})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:`divide-y divide-gray-200 dark:divide-gray-700 ${darkMode?'bg-gray-900':'bg-white'}`,children:users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 dark:text-gray-100 sm:pl-6\",children:user.username}),/*#__PURE__*/_jsx(\"td\",{className:\"whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-400\",children:user.role}),/*#__PURE__*/_jsx(\"td\",{className:\"whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-400\",children:user.email}),/*#__PURE__*/_jsx(\"td\",{className:\"whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-400\",children:PLAN_LABELS[user.plan]||user.plan}),/*#__PURE__*/_jsx(\"td\",{className:\"px-3 py-4 text-sm text-gray-500 dark:text-gray-400\",children:user.description||'-'}),/*#__PURE__*/_jsxs(\"td\",{className:\"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>openEditUserModal(user),className:\"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300 mr-4\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>openDeleteUserModal(user),className:\"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300\",children:\"Delete\"})]})]},user.username))})]})})})})}),/*#__PURE__*/_jsx(Modal,{isOpen:showCreateUserModal,onClose:()=>setShowCreateUserModal(false),title:\"Create New User\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateUser,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newUser.username,onChange:e=>setNewUser({...newUser,username:e.target.value}),className:\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:newUser.password,onChange:e=>setNewUser({...newUser,password:e.target.value}),className:\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:newUser.email,onChange:e=>setNewUser({...newUser,email:e.target.value}),className:\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Role\"}),/*#__PURE__*/_jsx(\"select\",{value:newUser.role,onChange:e=>setNewUser({...newUser,role:e.target.value}),className:\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm\",children:getAvailableRoles().map(role=>/*#__PURE__*/_jsx(\"option\",{value:role.value,children:role.label},role.value))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newUser.description,onChange:e=>setNewUser({...newUser,description:e.target.value}),className:\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm\",rows:\"3\",placeholder:\"Enter user description or notes\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Plan\"}),/*#__PURE__*/_jsx(\"select\",{value:newUser.plan,onChange:e=>setNewUser({...newUser,plan:e.target.value}),className:\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm\",children:Object.entries(PLAN_LABELS).map(_ref=>{let[value,label]=_ref;return/*#__PURE__*/_jsx(\"option\",{value:value,children:label},value);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowCreateUserModal(false),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Create User\"})]})]})}),/*#__PURE__*/_jsx(Modal,{isOpen:showEditUserModal,onClose:()=>{setShowEditUserModal(false);// Reset form state\nsetUserToEdit({username:'',role:'',email:'',description:'',plan:'usage_based',password:''});},title:\"Edit User\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdateUser,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:userToEdit.username||'',disabled:true,className:\"mt-1 block w-full rounded-md border-gray-300 shadow-sm bg-gray-100 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300 sm:text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Role\"}),/*#__PURE__*/_jsx(\"select\",{value:userToEdit.role||'',onChange:e=>setUserToEdit({...userToEdit,role:e.target.value}),className:\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm\",children:getAvailableRoles().map(role=>/*#__PURE__*/_jsx(\"option\",{value:role.value,children:role.label},role.value))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:userToEdit.email||'',onChange:e=>setUserToEdit({...userToEdit,email:e.target.value}),className:\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:userToEdit.description||'',onChange:e=>setUserToEdit({...userToEdit,description:e.target.value}),className:\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm\",rows:\"3\",placeholder:\"Enter user description or notes\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Plan\"}),/*#__PURE__*/_jsx(\"select\",{value:userToEdit.plan||'usage_based',onChange:e=>setUserToEdit({...userToEdit,plan:e.target.value}),className:\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm\",children:Object.entries(PLAN_LABELS).map(_ref2=>{let[value,label]=_ref2;return/*#__PURE__*/_jsx(\"option\",{value:value,children:label},value);})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"New Password (leave blank to keep current)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:userToEdit.password||'',onChange:e=>setUserToEdit({...userToEdit,password:e.target.value}),className:\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setShowEditUserModal(false);// Reset form state\nsetUserToEdit({username:'',role:'',email:'',description:'',plan:'usage_based',password:''});},className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Save Changes\"})]})]})}),/*#__PURE__*/_jsx(Modal,{isOpen:showDeleteUserModal&&userToDelete!==null,onClose:()=>{setShowDeleteUserModal(false);setUserToDelete(null);},title:\"Delete User\",children:userToDelete&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:`text-gray-700 dark:text-gray-300 mb-4`,children:[\"Are you sure you want to delete the user \\\"\",userToDelete.username,\"\\\"? This action cannot be undone.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setShowDeleteUserModal(false);setUserToDelete(null);},className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleDeleteUser,className:\"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\",children:\"Delete\"})]})]})})]});};export default UsersPage;","map":{"version":3,"names":["React","useState","useEffect","useAuth","ROLES","canManageAdmins","canManageDoctors","canManageRole","useTheme","axios","PlusIcon","PencilIcon","TrashIcon","ExclamationCircleIcon","ShieldCheckIcon","UserIcon","toast","Modal","jsx","_jsx","jsxs","_jsxs","UsersPage","users","setUsers","isLoading","setIsLoading","error","setError","showCreateUserModal","setShowCreateUserModal","showEditUserModal","setShowEditUserModal","showDeleteUserModal","setShowDeleteUserModal","userToEdit","setUserToEdit","username","role","email","description","plan","password","userToDelete","setUserToDelete","user","currentUser","userCanManageAdmins","userCanManageDoctors","darkMode","formUsername","setFormUsername","formPassword","setFormPassword","formRole","setFormRole","DOCTOR","formFirstName","setFormFirstName","formLastName","setFormLastName","formEmail","setFormEmail","formError","setFormError","PLANS","USAGE_BASED","ONE_TIME","SUBSCRIPTION","PLAN_LABELS","usage_based","one_time","subscription","newUser","setNewUser","fetchUsers","response","get","filteredUsers","data","SUPERADMIN","filter","console","className","children","getAvailableRoles","roles","push","value","label","RADIOLOGIST","ADMIN","handleCreateUser","e","preventDefault","fetch","method","headers","body","JSON","stringify","ok","json","Error","success","message","handleUpdateUser","handleDeleteUser","delete","_error$response","_error$response$data","openEditUserModal","openDeleteUserModal","onClick","scope","map","isOpen","onClose","title","onSubmit","type","onChange","target","required","rows","placeholder","Object","entries","_ref","disabled","_ref2"],"sources":["C:/Users/kouss/Desktop/Cursor/Segmentation/pipeline/webapp/static/src/pages/UsersPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth, ROLES, canManageAdmins, canManageDoctors, canManageRole } from '../contexts/AuthContext';\r\nimport { useTheme } from '../contexts/ThemeContext';\r\nimport axios from 'axios';\r\nimport { PlusIcon, PencilIcon, TrashIcon, ExclamationCircleIcon, ShieldCheckIcon, UserIcon } from '@heroicons/react/24/outline';\r\nimport { toast } from '../utils/toast';\r\nimport Modal from '../components/Modal';\r\n\r\nconst UsersPage = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [showCreateUserModal, setShowCreateUserModal] = useState(false);\r\n  const [showEditUserModal, setShowEditUserModal] = useState(false);\r\n  const [showDeleteUserModal, setShowDeleteUserModal] = useState(false);\r\n  const [userToEdit, setUserToEdit] = useState({\r\n    username: '',\r\n    role: '',\r\n    email: '',\r\n    description: '',\r\n    plan: 'usage_based',\r\n    password: ''\r\n  });\r\n  const [userToDelete, setUserToDelete] = useState(null);\r\n  \r\n  const { user: currentUser, canManageAdmins: userCanManageAdmins, canManageDoctors: userCanManageDoctors } = useAuth();\r\n  const { darkMode } = useTheme();\r\n  \r\n  // Form states for creating and editing users\r\n  const [formUsername, setFormUsername] = useState('');\r\n  const [formPassword, setFormPassword] = useState('');\r\n  const [formRole, setFormRole] = useState(ROLES.DOCTOR);\r\n  const [formFirstName, setFormFirstName] = useState('');\r\n  const [formLastName, setFormLastName] = useState('');\r\n  const [formEmail, setFormEmail] = useState('');\r\n  const [formError, setFormError] = useState('');\r\n  \r\n  const PLANS = {\r\n    USAGE_BASED: 'usage_based',\r\n    ONE_TIME: 'one_time',\r\n    SUBSCRIPTION: 'subscription'\r\n  };\r\n\r\n  const PLAN_LABELS = {\r\n    usage_based: 'Usage Based',\r\n    one_time: 'One Time Payment',\r\n    subscription: 'Subscription'\r\n  };\r\n\r\n  const [newUser, setNewUser] = useState({\r\n    username: '',\r\n    password: '',\r\n    email: '',\r\n    role: 'doctor',\r\n    description: '',\r\n    plan: PLANS.USAGE_BASED\r\n  });\r\n  \r\n  // Fetch users from the API\r\n  const fetchUsers = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const response = await axios.get('/api/users');\r\n      \r\n      // Filter users based on role permissions\r\n      let filteredUsers = response.data;\r\n      \r\n      // If not a superadmin, filter out superadmins\r\n      if (currentUser.role !== ROLES.SUPERADMIN) {\r\n        filteredUsers = filteredUsers.filter(user => user.role !== ROLES.SUPERADMIN);\r\n      }\r\n      \r\n      // If not an admin or superadmin, filter out admins too\r\n      if (!userCanManageDoctors) {\r\n        filteredUsers = filteredUsers.filter(user => user.role === ROLES.DOCTOR);\r\n      }\r\n      \r\n      setUsers(filteredUsers);\r\n      setIsLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error);\r\n      setError('Failed to load users. Please try again later.');\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  \r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, [currentUser.role]);\r\n  \r\n  // Check if current user can access the users page\r\n  if (!currentUser || !userCanManageDoctors) {\r\n    return (\r\n      <div className={`text-center py-12 ${darkMode ? 'text-white' : ''}`}>\r\n        <div className={`${darkMode ? 'bg-red-900' : 'bg-red-50'} p-4 rounded-md inline-block`}>\r\n          <div className=\"flex\">\r\n            <ExclamationCircleIcon className={`h-5 w-5 ${darkMode ? 'text-red-300' : 'text-red-400'}`} />\r\n            <div className=\"ml-3\">\r\n              <h3 className={`text-sm font-medium ${darkMode ? 'text-red-300' : 'text-red-800'}`}>Unauthorized Access</h3>\r\n              <div className={`mt-2 text-sm ${darkMode ? 'text-red-300' : 'text-red-700'}`}>\r\n                <p>You do not have permission to access this page. This page is only available to administrators.</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  // Get available roles based on current user's role\r\n  const getAvailableRoles = () => {\r\n    const roles = [];\r\n    \r\n    // If current user is not defined yet, return an empty array\r\n    if (!currentUser) {\r\n      return roles;\r\n    }\r\n    \r\n    // Add roles based on permissions\r\n    if (canManageRole(currentUser.role, ROLES.DOCTOR)) {\r\n      roles.push({ value: ROLES.DOCTOR, label: 'Doctor' });\r\n    }\r\n    if (canManageRole(currentUser.role, ROLES.RADIOLOGIST)) {\r\n      roles.push({ value: ROLES.RADIOLOGIST, label: 'Radiologist' });\r\n    }\r\n    if (canManageRole(currentUser.role, ROLES.ADMIN)) {\r\n      roles.push({ value: ROLES.ADMIN, label: 'Admin' });\r\n    }\r\n    if (canManageRole(currentUser.role, ROLES.SUPERADMIN)) {\r\n      roles.push({ value: ROLES.SUPERADMIN, label: 'Super Admin' });\r\n    }\r\n    \r\n    return roles;\r\n  };\r\n  \r\n  // Create a new user\r\n  const handleCreateUser = async (e) => {\r\n    e.preventDefault();\r\n    if (!canManageRole(newUser.role)) {\r\n      toast.error('You do not have permission to create users with this role');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch('/api/users', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(newUser),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const error = await response.json();\r\n        throw new Error(error.error || 'Failed to create user');\r\n      }\r\n\r\n      const data = await response.json();\r\n      setUsers([...users, data]);\r\n      setShowCreateUserModal(false);\r\n      setNewUser({\r\n        username: '',\r\n        password: '',\r\n        email: '',\r\n        role: 'doctor',\r\n        description: '',\r\n        plan: PLANS.USAGE_BASED\r\n      });\r\n      toast.success('User created successfully');\r\n    } catch (error) {\r\n      toast.error(error.message);\r\n    }\r\n  };\r\n  \r\n  // Update an existing user\r\n  const handleUpdateUser = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Ensure currentUser exists\r\n    if (!currentUser) {\r\n      toast.error('You must be logged in to perform this action');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      // Check if user has permission for the selected role\r\n      if (!canManageRole(userToEdit.role)) {\r\n        toast.error('You do not have permission to assign this role');\r\n        return;\r\n      }\r\n      \r\n      // Prevent downgrading superadmins if not a superadmin\r\n      if (userToEdit.role === ROLES.SUPERADMIN && currentUser.role !== ROLES.SUPERADMIN) {\r\n        toast.error('You cannot modify a super admin account');\r\n        return;\r\n      }\r\n\r\n      const response = await fetch(`/api/users/${userToEdit.username}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          role: userToEdit.role,\r\n          email: userToEdit.email,\r\n          description: userToEdit.description,\r\n          plan: userToEdit.plan,\r\n          ...(userToEdit.password ? { password: userToEdit.password } : {})\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const error = await response.json();\r\n        throw new Error(error.error || 'Failed to update user');\r\n      }\r\n\r\n      // Refresh users list\r\n      fetchUsers();\r\n      setShowEditUserModal(false);\r\n      toast.success('User updated successfully');\r\n    } catch (error) {\r\n      toast.error(error.message || 'Failed to update user');\r\n    }\r\n  };\r\n  \r\n  // Delete a user\r\n  const handleDeleteUser = async () => {\r\n    if (!userToDelete) return;\r\n    \r\n    try {\r\n      // Check permissions for role deletion\r\n      if (userToDelete.role === ROLES.SUPERADMIN && currentUser.role !== ROLES.SUPERADMIN) {\r\n        setError('You do not have permission to delete super admin accounts.');\r\n        setShowDeleteUserModal(false);\r\n        return;\r\n      }\r\n      \r\n      // Prevent admins from deleting other admins (only superadmins can)\r\n      if (userToDelete.role === ROLES.ADMIN && currentUser.role === ROLES.ADMIN) {\r\n        setError('Admins cannot delete other admin accounts.');\r\n        setShowDeleteUserModal(false);\r\n        return;\r\n      }\r\n      \r\n      // Prevent deleting your own account\r\n      if (userToDelete.username === currentUser.username) {\r\n        setError('You cannot delete your own account.');\r\n        setShowDeleteUserModal(false);\r\n        return;\r\n      }\r\n      \r\n      const response = await axios.delete(`/api/users/${userToDelete.username}`);\r\n      \r\n      // Reset and close modal\r\n      setUserToDelete(null);\r\n      setShowDeleteUserModal(false);\r\n      \r\n      // Refresh users list\r\n      fetchUsers();\r\n    } catch (error) {\r\n      console.error('Error deleting user:', error);\r\n      setError(error.response?.data?.error || 'Failed to delete user. Please try again.');\r\n    }\r\n  };\r\n  \r\n  // Open the edit user modal\r\n  const openEditUserModal = (user) => {\r\n    setUserToEdit({\r\n      ...user,\r\n      password: '', // Don't prefill password for security\r\n    });\r\n    setShowEditUserModal(true);\r\n  };\r\n  \r\n  // Open the delete user modal\r\n  const openDeleteUserModal = (user) => {\r\n    setUserToDelete(user);\r\n    setShowDeleteUserModal(true);\r\n  };\r\n\r\n  return (\r\n    <div className={`space-y-6 ${darkMode ? 'text-white' : ''}`}>\r\n      <div className=\"flex justify-between items-center\">\r\n        <h1 className={`text-2xl font-semibold ${darkMode ? 'text-white' : 'text-gray-900'}`}>User Management</h1>\r\n        <button \r\n          onClick={() => {\r\n            setFormUsername('');\r\n            setFormPassword('');\r\n            // Set default role based on user's permissions\r\n            setFormRole(userCanManageAdmins ? ROLES.ADMIN : ROLES.DOCTOR);\r\n            setFormFirstName('');\r\n            setFormLastName('');\r\n            setFormEmail('');\r\n            setFormError('');\r\n            setShowCreateUserModal(true);\r\n          }}\r\n          className={`flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500`}\r\n        >\r\n          <PlusIcon className=\"h-5 w-5 mr-1\" />\r\n          Add User\r\n        </button>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className={`${darkMode ? 'bg-red-900' : 'bg-red-50'} p-4 rounded-md`}>\r\n          <div className=\"flex\">\r\n            <ExclamationCircleIcon className={`h-5 w-5 ${darkMode ? 'text-red-300' : 'text-red-400'}`} />\r\n            <div className=\"ml-3\">\r\n              <h3 className={`text-sm font-medium ${darkMode ? 'text-red-300' : 'text-red-800'}`}>{error}</h3>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {isLoading ? (\r\n        <div className=\"text-center py-12\">\r\n          <div className=\"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-indigo-600 border-r-transparent\"></div>\r\n          <p className={`mt-4 ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>Loading users...</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"mt-8 flex flex-col\">\r\n          <div className=\"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8\">\r\n            <div className=\"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8\">\r\n              <div className=\"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg\">\r\n                <table className=\"min-w-full divide-y divide-gray-300 dark:divide-gray-700\">\r\n                  <thead className={`${darkMode ? 'bg-gray-800' : 'bg-gray-50'}`}>\r\n                    <tr>\r\n                      <th scope=\"col\" className=\"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 dark:text-gray-100 sm:pl-6\">\r\n                        Username\r\n                      </th>\r\n                      <th scope=\"col\" className=\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-gray-100\">\r\n                        Role\r\n                      </th>\r\n                      <th scope=\"col\" className=\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-gray-100\">\r\n                        Email\r\n                      </th>\r\n                      <th scope=\"col\" className=\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-gray-100\">\r\n                        Plan\r\n                      </th>\r\n                      <th scope=\"col\" className=\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-gray-100\">\r\n                        Description\r\n                      </th>\r\n                      <th scope=\"col\" className=\"relative py-3.5 pl-3 pr-4 sm:pr-6\">\r\n                        <span className=\"sr-only\">Actions</span>\r\n                      </th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className={`divide-y divide-gray-200 dark:divide-gray-700 ${darkMode ? 'bg-gray-900' : 'bg-white'}`}>\r\n                    {users.map((user) => (\r\n                      <tr key={user.username}>\r\n                        <td className=\"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 dark:text-gray-100 sm:pl-6\">\r\n                          {user.username}\r\n                        </td>\r\n                        <td className=\"whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-400\">\r\n                          {user.role}\r\n                        </td>\r\n                        <td className=\"whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-400\">\r\n                          {user.email}\r\n                        </td>\r\n                        <td className=\"whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-400\">\r\n                          {PLAN_LABELS[user.plan] || user.plan}\r\n                        </td>\r\n                        <td className=\"px-3 py-4 text-sm text-gray-500 dark:text-gray-400\">\r\n                          {user.description || '-'}\r\n                        </td>\r\n                        <td className=\"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6\">\r\n                          <button\r\n                            onClick={() => openEditUserModal(user)}\r\n                            className=\"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300 mr-4\"\r\n                          >\r\n                            Edit\r\n                          </button>\r\n                          <button\r\n                            onClick={() => openDeleteUserModal(user)}\r\n                            className=\"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300\"\r\n                          >\r\n                            Delete\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Create User Modal */}\r\n      <Modal\r\n        isOpen={showCreateUserModal}\r\n        onClose={() => setShowCreateUserModal(false)}\r\n        title=\"Create New User\"\r\n      >\r\n        <form onSubmit={handleCreateUser} className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n              Username\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={newUser.username}\r\n              onChange={(e) => setNewUser({ ...newUser, username: e.target.value })}\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm\"\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n              Password\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              value={newUser.password}\r\n              onChange={(e) => setNewUser({ ...newUser, password: e.target.value })}\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm\"\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n              Email\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              value={newUser.email}\r\n              onChange={(e) => setNewUser({ ...newUser, email: e.target.value })}\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm\"\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n              Role\r\n            </label>\r\n            <select\r\n              value={newUser.role}\r\n              onChange={(e) => setNewUser({ ...newUser, role: e.target.value })}\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm\"\r\n            >\r\n              {getAvailableRoles().map(role => (\r\n                <option key={role.value} value={role.value}>\r\n                  {role.label}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n              Description\r\n            </label>\r\n            <textarea\r\n              value={newUser.description}\r\n              onChange={(e) => setNewUser({ ...newUser, description: e.target.value })}\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm\"\r\n              rows=\"3\"\r\n              placeholder=\"Enter user description or notes\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n              Plan\r\n            </label>\r\n            <select\r\n              value={newUser.plan}\r\n              onChange={(e) => setNewUser({ ...newUser, plan: e.target.value })}\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm\"\r\n            >\r\n              {Object.entries(PLAN_LABELS).map(([value, label]) => (\r\n                <option key={value} value={value}>\r\n                  {label}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"flex justify-end space-x-3\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowCreateUserModal(false)}\r\n              className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n            >\r\n              Create User\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </Modal>\r\n\r\n      {/* Edit User Modal */}\r\n      <Modal\r\n        isOpen={showEditUserModal}\r\n        onClose={() => {\r\n          setShowEditUserModal(false);\r\n          // Reset form state\r\n          setUserToEdit({\r\n            username: '',\r\n            role: '',\r\n            email: '',\r\n            description: '',\r\n            plan: 'usage_based',\r\n            password: ''\r\n          });\r\n        }}\r\n        title=\"Edit User\"\r\n      >\r\n        <form onSubmit={handleUpdateUser} className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n              Username\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={userToEdit.username || ''}\r\n              disabled\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm bg-gray-100 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300 sm:text-sm\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n              Role\r\n            </label>\r\n            <select\r\n              value={userToEdit.role || ''}\r\n              onChange={(e) => setUserToEdit({ ...userToEdit, role: e.target.value })}\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm\"\r\n            >\r\n              {getAvailableRoles().map(role => (\r\n                <option key={role.value} value={role.value}>\r\n                  {role.label}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n              Email\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              value={userToEdit.email || ''}\r\n              onChange={(e) => setUserToEdit({ ...userToEdit, email: e.target.value })}\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n              Description\r\n            </label>\r\n            <textarea\r\n              value={userToEdit.description || ''}\r\n              onChange={(e) => setUserToEdit({ ...userToEdit, description: e.target.value })}\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm\"\r\n              rows=\"3\"\r\n              placeholder=\"Enter user description or notes\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n              Plan\r\n            </label>\r\n            <select\r\n              value={userToEdit.plan || 'usage_based'}\r\n              onChange={(e) => setUserToEdit({ ...userToEdit, plan: e.target.value })}\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm\"\r\n            >\r\n              {Object.entries(PLAN_LABELS).map(([value, label]) => (\r\n                <option key={value} value={value}>\r\n                  {label}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n              New Password (leave blank to keep current)\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              value={userToEdit.password || ''}\r\n              onChange={(e) => setUserToEdit({ ...userToEdit, password: e.target.value })}\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm\"\r\n            />\r\n          </div>\r\n          <div className=\"flex justify-end space-x-3\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => {\r\n                setShowEditUserModal(false);\r\n                // Reset form state\r\n                setUserToEdit({\r\n                  username: '',\r\n                  role: '',\r\n                  email: '',\r\n                  description: '',\r\n                  plan: 'usage_based',\r\n                  password: ''\r\n                });\r\n              }}\r\n              className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n            >\r\n              Save Changes\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </Modal>\r\n\r\n      {/* Delete User Confirmation Modal */}\r\n      <Modal\r\n        isOpen={showDeleteUserModal && userToDelete !== null}\r\n        onClose={() => {\r\n          setShowDeleteUserModal(false);\r\n          setUserToDelete(null);\r\n        }}\r\n        title=\"Delete User\"\r\n      >\r\n        {userToDelete && (\r\n          <div>\r\n            <p className={`text-gray-700 dark:text-gray-300 mb-4`}>\r\n              Are you sure you want to delete the user \"{userToDelete.username}\"? \r\n              This action cannot be undone.\r\n            </p>\r\n            \r\n            <div className=\"flex justify-end space-x-3\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  setShowDeleteUserModal(false);\r\n                  setUserToDelete(null);\r\n                }}\r\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={handleDeleteUser}\r\n                className=\"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\r\n              >\r\n                Delete\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsersPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}