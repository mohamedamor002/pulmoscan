{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth}from'../contexts/AuthContext';import{useTheme}from'../contexts/ThemeContext';import{MoonIcon,SunIcon,PencilIcon,CheckIcon,XMarkIcon,ExclamationCircleIcon,QuestionMarkCircleIcon,ChevronDownIcon,ChevronUpIcon}from'@heroicons/react/24/outline';import axios from'axios';import{useNavigate}from'react-router-dom';// Create a context for background settings\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const BackgroundContext=/*#__PURE__*/React.createContext({backgroundVariant:'default',setBackgroundVariant:()=>{}});// Add this somewhere at the top level of your app (e.g., in App.js or a new context file)\nexport const BackgroundProvider=_ref=>{let{children}=_ref;const[backgroundVariant,setBackgroundVariant]=useState(localStorage.getItem('backgroundVariant')||'default');// Save to localStorage when changed\nuseEffect(()=>{localStorage.setItem('backgroundVariant',backgroundVariant);},[backgroundVariant]);return/*#__PURE__*/_jsx(BackgroundContext.Provider,{value:{backgroundVariant,setBackgroundVariant},children:children});};const SettingsPage=()=>{const{user,login,logout,updateUserContext}=useAuth();const{darkMode,toggleDarkMode}=useTheme();const[notifications,setNotifications]=useState(true);const[emailUpdates,setEmailUpdates]=useState(true);const[successMessage,setSuccessMessage]=useState('');const[errorMessage,setErrorMessage]=useState('');const[isLoading,setIsLoading]=useState(false);const[isEditMode,setIsEditMode]=useState(false);const[passwordStrength,setPasswordStrength]=useState(0);const[expandedFaqIndex,setExpandedFaqIndex]=useState(null);const navigate=useNavigate();const[activeTab,setActiveTab]=useState('general');const[backgroundVariant,setBackgroundVariant]=useState(localStorage.getItem('backgroundVariant')||'default');// Profile state\nconst[profile,setProfile]=useState({username:(user===null||user===void 0?void 0:user.username)||'',email:(user===null||user===void 0?void 0:user.email)||'',currentPassword:'',newPassword:'',confirmPassword:'',firstName:(user===null||user===void 0?void 0:user.firstName)||'',lastName:(user===null||user===void 0?void 0:user.lastName)||''});// Setup profile from user context when it changes\nuseEffect(()=>{if(user){setProfile(prevProfile=>({...prevProfile,username:user.username||'',email:user.email||'',firstName:user.firstName||'',lastName:user.lastName||''}));}},[user]);// Password strength checker\nuseEffect(()=>{if(!profile.newPassword){setPasswordStrength(0);return;}// Calculate password strength\nlet strength=0;// Length check\nif(profile.newPassword.length>=8)strength+=1;// Contains uppercase\nif(/[A-Z]/.test(profile.newPassword))strength+=1;// Contains lowercase\nif(/[a-z]/.test(profile.newPassword))strength+=1;// Contains number\nif(/[0-9]/.test(profile.newPassword))strength+=1;// Contains special character\nif(/[^A-Za-z0-9]/.test(profile.newPassword))strength+=1;setPasswordStrength(strength);},[profile.newPassword]);const resetForm=()=>{setProfile({username:(user===null||user===void 0?void 0:user.username)||'',email:(user===null||user===void 0?void 0:user.email)||'',currentPassword:'',newPassword:'',confirmPassword:'',firstName:(user===null||user===void 0?void 0:user.firstName)||'',lastName:(user===null||user===void 0?void 0:user.lastName)||''});setIsEditMode(false);};const handleProfileChange=e=>{const{name,value}=e.target;setProfile(prevProfile=>({...prevProfile,[name]:value}));};const validateForm=()=>{// Check if passwords match if user is changing password\nif(profile.newPassword){if(!profile.currentPassword){setErrorMessage('Current password is required to set a new password');return false;}if(profile.newPassword!==profile.confirmPassword){setErrorMessage('New passwords do not match');return false;}if(profile.newPassword.length<6){setErrorMessage('New password must be at least 6 characters');return false;}}// Validate username\nif(!profile.username||profile.username.length<3){setErrorMessage('Username must be at least 3 characters');return false;}// Validate email format\nconst emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;if(profile.email&&!emailRegex.test(profile.email)){setErrorMessage('Please enter a valid email address');return false;}return true;};// FAQs data\nconst faqs=[{question:\"How do I change my password?\",answer:\"To change your password, click the 'Edit Profile' button, enter your current password and choose a new one. For security, passwords should be at least 8 characters long with a mix of letters, numbers, and special characters.\"},{question:\"What happens if I change my username?\",answer:\"If you change your username, you'll be automatically logged out and redirected to the login page. You'll need to log in with your new username but using the same password.\"},{question:\"Can I delete my account?\",answer:\"Account deletion is handled by administrators. Please contact your system administrator if you need to delete your account or remove your data from the system.\"},{question:\"How secure is my medical data?\",answer:\"All medical data is stored securely and encrypted. We follow industry best practices to ensure your data remains private and is only accessible to authorized personnel.\"}];const toggleFaq=index=>{if(expandedFaqIndex===index){setExpandedFaqIndex(null);}else{setExpandedFaqIndex(index);}};const updateUserProfile=async()=>{if(!validateForm()){return;}setIsLoading(true);setErrorMessage('');try{// Create update payload\nconst updateData={username:profile.username,email:profile.email,first_name:profile.firstName,last_name:profile.lastName};// Only include password fields if user is changing password\nif(profile.newPassword){updateData.current_password=profile.currentPassword;updateData.password=profile.newPassword;}console.log('Sending profile update with data:',updateData);// Call API to update user profile\nconst response=await axios.put(`/api/users/${user.username}`,updateData);if(response.data.success){console.log('Profile update successful. Server response:',response.data);// Check if username changed or password changed\nconst usernameChanged=profile.username!==user.username;const passwordChanged=profile.newPassword&&profile.newPassword.length>0;// Username changes require logout and re-login (authentication token is tied to username)\nif(usernameChanged){console.log('Username changed, will need to re-login');setSuccessMessage('Username changed successfully! Please login with your new username.');// Store new username in session storage so login page can prefill it\nsessionStorage.setItem('pendingUsername',profile.username);// Delayed logout after message is shown\nsetTimeout(()=>{logout();navigate('/login');},3000);// Return early to prevent additional logic\nreturn;}// Handle password change - try silent reauthentication if possible\nif(passwordChanged){console.log('Password changed, attempting silent reauthentication');try{// Silent re-login attempt with new password\nconst loginResponse=await login(user.username,profile.newPassword);if(loginResponse.success){setSuccessMessage('Profile updated successfully!');console.log('Silent re-authentication successful');}else{// This is unlikely to happen - if the profile update worked but re-login failed\nconsole.warn('Silent re-authentication failed after successful password change');setSuccessMessage('Profile updated successfully!');}}catch(loginError){console.error('Error during silent re-authentication:',loginError);// Even if silent re-auth fails, profile was still updated\nsetSuccessMessage('Profile updated successfully!');}}else{// Just a regular profile update (no credentials changed)\nconsole.log('Regular profile update, no credential changes');setSuccessMessage('Profile updated successfully!');}// For all changes except username change, update the user context\nupdateUserContext({firstName:profile.firstName,lastName:profile.lastName,email:profile.email});console.log('User context updated with new profile information');// Exit edit mode\nsetIsEditMode(false);// Clear the success message after 3 seconds for normal updates\nsetTimeout(()=>{setSuccessMessage('');},3000);}}catch(error){var _error$response,_error$response2,_error$response3,_error$response3$data;console.error('Error updating profile:',error);// Handle error response and show appropriate message\nif(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){setErrorMessage('Current password is incorrect. Please try again.');}else if(((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status)===403){setErrorMessage('Unauthorized. You do not have permission to update this profile.');}else if((_error$response3=error.response)!==null&&_error$response3!==void 0&&(_error$response3$data=_error$response3.data)!==null&&_error$response3$data!==void 0&&_error$response3$data.message){setErrorMessage(error.response.data.message);}else{setErrorMessage('Failed to update profile. Please try again later.');}}finally{setIsLoading(false);}};// Helper for password strength indicator\nconst getPasswordStrengthLabel=()=>{if(!profile.newPassword)return'';const labels=['Very Weak','Weak','Moderate','Strong','Very Strong'];return labels[Math.min(passwordStrength,4)];};const getPasswordStrengthColor=()=>{if(!profile.newPassword)return'bg-gray-200';const colors=['bg-red-500',// Very Weak\n'bg-orange-500',// Weak\n'bg-yellow-500',// Moderate\n'bg-green-400',// Strong\n'bg-green-500'// Very Strong\n];return colors[Math.min(passwordStrength,4)];};// Function to handle background variant change\nconst handleBackgroundChange=variant=>{setBackgroundVariant(variant);localStorage.setItem('backgroundVariant',variant);// You might want to dispatch an event or use context to update this globally\n};return/*#__PURE__*/_jsxs(\"div\",{className:`max-w-4xl mx-auto ${darkMode?'text-white':''}`,children:[/*#__PURE__*/_jsx(\"h1\",{className:`text-2xl font-semibold mb-6 ${darkMode?'text-white':'text-gray-900'}`,children:\"Settings\"}),successMessage&&/*#__PURE__*/_jsx(\"div\",{className:`${darkMode?'bg-green-900/50 border-green-700':'bg-green-50 border-green-200'} border rounded-md p-4 mb-6`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(CheckIcon,{className:`h-5 w-5 ${darkMode?'text-green-300':'text-green-400'}`,\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:`text-sm font-medium ${darkMode?'text-green-300':'text-green-800'}`,children:successMessage})})]})}),errorMessage&&/*#__PURE__*/_jsx(\"div\",{className:`${darkMode?'bg-red-900/50 border-red-700':'bg-red-50 border-red-200'} border rounded-md p-4 mb-6`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(ExclamationCircleIcon,{className:`h-5 w-5 ${darkMode?'text-red-300':'text-red-400'}`,\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:`text-sm font-medium ${darkMode?'text-red-300':'text-red-800'}`,children:errorMessage})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:`${darkMode?'bg-gray-800':'bg-white'} shadow sm:rounded-lg`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:`text-lg leading-6 font-medium ${darkMode?'text-white':'text-gray-900'}`,children:\"Profile Information\"}),/*#__PURE__*/_jsx(\"div\",{children:!isEditMode?/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsEditMode(true),className:`flex items-center px-3 py-1.5 rounded-md ${darkMode?'bg-gray-700 hover:bg-gray-600 text-white':'bg-gray-100 hover:bg-gray-200 text-gray-700'}`,children:[/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4 mr-1\"}),\"Edit Profile\"]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:resetForm,className:`flex items-center px-3 py-1.5 rounded-md ${darkMode?'bg-gray-700 hover:bg-gray-600 text-white':'bg-gray-100 hover:bg-gray-200 text-gray-700'}`,disabled:isLoading,children:[/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-4 w-4 mr-1\"}),\"Cancel\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:updateUserProfile,className:`flex items-center px-3 py-1.5 rounded-md bg-indigo-600 hover:bg-indigo-700 text-white`,disabled:isLoading,children:[isLoading?/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin h-4 w-4 mr-1 text-white\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}):/*#__PURE__*/_jsx(CheckIcon,{className:\"h-4 w-4 mr-1\"}),\"Save Changes\"]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-4 sm:grid-cols-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:`block text-sm font-medium ${darkMode?'text-gray-300':'text-gray-700'}`,children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",id:\"username\",value:profile.username,onChange:handleProfileChange,disabled:!isEditMode,className:`mt-1 block w-full py-2 px-3 border ${darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${!isEditMode?darkMode?'bg-gray-600':'bg-gray-100':''}`}),isEditMode&&/*#__PURE__*/_jsx(\"p\",{className:`mt-1 text-xs ${darkMode?'text-yellow-300':'text-yellow-600'}`,children:\"Changing your username will require you to log in again\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:`block text-sm font-medium ${darkMode?'text-gray-300':'text-gray-700'}`,children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",id:\"email\",value:profile.email,onChange:handleProfileChange,disabled:!isEditMode,className:`mt-1 block w-full py-2 px-3 border ${darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${!isEditMode?darkMode?'bg-gray-600':'bg-gray-100':''}`})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",className:`block text-sm font-medium ${darkMode?'text-gray-300':'text-gray-700'}`,children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstName\",id:\"firstName\",value:profile.firstName,onChange:handleProfileChange,disabled:!isEditMode,className:`mt-1 block w-full py-2 px-3 border ${darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${!isEditMode?darkMode?'bg-gray-600':'bg-gray-100':''}`})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",className:`block text-sm font-medium ${darkMode?'text-gray-300':'text-gray-700'}`,children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastName\",id:\"lastName\",value:profile.lastName,onChange:handleProfileChange,disabled:!isEditMode,className:`mt-1 block w-full py-2 px-3 border ${darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${!isEditMode?darkMode?'bg-gray-600':'bg-gray-100':''}`})]})]}),isEditMode&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:`text-sm font-medium mb-3 ${darkMode?'text-gray-200':'text-gray-700'}`,children:\"Change Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-4 sm:grid-cols-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"currentPassword\",className:`block text-sm font-medium ${darkMode?'text-gray-300':'text-gray-700'}`,children:\"Current Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"currentPassword\",id:\"currentPassword\",value:profile.currentPassword,onChange:handleProfileChange,className:`mt-1 block w-full py-2 px-3 border ${darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"newPassword\",className:`block text-sm font-medium ${darkMode?'text-gray-300':'text-gray-700'}`,children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"newPassword\",id:\"newPassword\",value:profile.newPassword,onChange:handleProfileChange,className:`mt-1 block w-full py-2 px-3 border ${darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}),profile.newPassword&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2.5\",children:/*#__PURE__*/_jsx(\"div\",{className:`h-2.5 rounded-full ${getPasswordStrengthColor()}`,style:{width:`${passwordStrength/5*100}%`}})}),/*#__PURE__*/_jsxs(\"p\",{className:`text-xs mt-1 ${darkMode?'text-gray-300':'text-gray-600'}`,children:[\"Password strength: \",/*#__PURE__*/_jsx(\"span\",{className:`font-medium ${passwordStrength>=3?darkMode?'text-green-300':'text-green-600':darkMode?'text-yellow-300':'text-yellow-600'}`,children:getPasswordStrengthLabel()})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",className:`block text-sm font-medium ${darkMode?'text-gray-300':'text-gray-700'}`,children:\"Confirm New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirmPassword\",id:\"confirmPassword\",value:profile.confirmPassword,onChange:handleProfileChange,className:`mt-1 block w-full py-2 px-3 border ${darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}),profile.newPassword&&profile.confirmPassword&&/*#__PURE__*/_jsx(\"p\",{className:`mt-1 text-xs ${profile.newPassword===profile.confirmPassword?darkMode?'text-green-300':'text-green-600':darkMode?'text-red-300':'text-red-600'}`,children:profile.newPassword===profile.confirmPassword?'Passwords match ✓':'Passwords do not match ✗'})]})]})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:`${darkMode?'bg-gray-800':'bg-white'} shadow sm:rounded-lg`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:`text-lg leading-6 font-medium ${darkMode?'text-white':'text-gray-900'}`,children:\"Appearance\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:`text-sm ${darkMode?'text-gray-300':'text-gray-700'}`,children:\"Dark Mode\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:toggleDarkMode,className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none ${darkMode?'bg-indigo-600':'bg-gray-300'}`,children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Toggle dark mode\"}),/*#__PURE__*/_jsx(\"span\",{className:`${darkMode?'translate-x-6 bg-white text-indigo-600':'translate-x-1 bg-white text-gray-400'} inline-block w-4 h-4 transform rounded-full transition-transform relative`,children:darkMode?/*#__PURE__*/_jsx(MoonIcon,{className:\"h-3 w-3 absolute top-0.5 left-0.5\"}):/*#__PURE__*/_jsx(SunIcon,{className:\"h-3 w-3 absolute top-0.5 left-0.5\"})})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:`${darkMode?'bg-gray-800':'bg-white'} shadow sm:rounded-lg`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:`text-lg leading-6 font-medium ${darkMode?'text-white':'text-gray-900'}`,children:\"Notification Settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:`text-sm ${darkMode?'text-gray-300':'text-gray-700'}`,children:\"System Notifications\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setNotifications(!notifications),className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none ${notifications?'bg-indigo-600':'bg-gray-300'}`,children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Toggle notifications\"}),/*#__PURE__*/_jsx(\"span\",{className:`${notifications?'translate-x-6':'translate-x-1'} inline-block w-4 h-4 transform bg-white rounded-full transition-transform`})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:`text-sm ${darkMode?'text-gray-300':'text-gray-700'}`,children:\"Email Updates\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setEmailUpdates(!emailUpdates),className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none ${emailUpdates?'bg-indigo-600':'bg-gray-300'}`,children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Toggle email updates\"}),/*#__PURE__*/_jsx(\"span\",{className:`${emailUpdates?'translate-x-6':'translate-x-1'} inline-block w-4 h-4 transform bg-white rounded-full transition-transform`})]})]})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:`mt-8 ${darkMode?'bg-gray-800':'bg-white'} shadow sm:rounded-lg`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:`text-lg leading-6 font-medium ${darkMode?'text-white':'text-gray-900'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(QuestionMarkCircleIcon,{className:\"h-5 w-5 mr-2\"}),\"Frequently Asked Questions\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 space-y-4\",children:faqs.map((faq,index)=>/*#__PURE__*/_jsxs(\"div\",{className:`overflow-hidden ${darkMode?'bg-gray-700':'bg-gray-50'} rounded-lg transition-all duration-200`,children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toggleFaq(index),className:`w-full px-4 py-3 text-left ${darkMode?'hover:bg-gray-600':'hover:bg-gray-100'} flex justify-between items-center`,children:[/*#__PURE__*/_jsx(\"span\",{className:`font-medium ${darkMode?'text-white':'text-gray-900'}`,children:faq.question}),expandedFaqIndex===index?/*#__PURE__*/_jsx(ChevronUpIcon,{className:\"h-5 w-5\"}):/*#__PURE__*/_jsx(ChevronDownIcon,{className:\"h-5 w-5\"})]}),/*#__PURE__*/_jsx(\"div\",{className:`transition-all duration-300 ease-in-out overflow-hidden ${expandedFaqIndex===index?'max-h-40 opacity-100':'max-h-0 opacity-0'}`,children:/*#__PURE__*/_jsx(\"div\",{className:`px-4 pb-3 text-sm ${darkMode?'text-gray-300':'text-gray-600'}`,children:faq.answer})})]},index))})]})})]});};export default SettingsPage;","map":{"version":3,"names":["React","useState","useEffect","useAuth","useTheme","MoonIcon","SunIcon","PencilIcon","CheckIcon","XMarkIcon","ExclamationCircleIcon","QuestionMarkCircleIcon","ChevronDownIcon","ChevronUpIcon","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","BackgroundContext","createContext","backgroundVariant","setBackgroundVariant","BackgroundProvider","_ref","children","localStorage","getItem","setItem","Provider","value","SettingsPage","user","login","logout","updateUserContext","darkMode","toggleDarkMode","notifications","setNotifications","emailUpdates","setEmailUpdates","successMessage","setSuccessMessage","errorMessage","setErrorMessage","isLoading","setIsLoading","isEditMode","setIsEditMode","passwordStrength","setPasswordStrength","expandedFaqIndex","setExpandedFaqIndex","navigate","activeTab","setActiveTab","profile","setProfile","username","email","currentPassword","newPassword","confirmPassword","firstName","lastName","prevProfile","strength","length","test","resetForm","handleProfileChange","e","name","target","validateForm","emailRegex","faqs","question","answer","toggleFaq","index","updateUserProfile","updateData","first_name","last_name","current_password","password","console","log","response","put","data","success","usernameChanged","passwordChanged","sessionStorage","setTimeout","loginResponse","warn","loginError","error","_error$response","_error$response2","_error$response3","_error$response3$data","status","message","getPasswordStrengthLabel","labels","Math","min","getPasswordStrengthColor","colors","handleBackgroundChange","variant","className","onClick","disabled","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","htmlFor","type","id","onChange","style","width","map","faq"],"sources":["C:/Users/kouss/Desktop/Cursor/Segmentation/pipeline/webapp/static/src/pages/SettingsPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useTheme } from '../contexts/ThemeContext';\r\nimport { MoonIcon, SunIcon, PencilIcon, CheckIcon, XMarkIcon, ExclamationCircleIcon, QuestionMarkCircleIcon, ChevronDownIcon, ChevronUpIcon } from '@heroicons/react/24/outline';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n// Create a context for background settings\r\nexport const BackgroundContext = React.createContext({\r\n  backgroundVariant: 'default',\r\n  setBackgroundVariant: () => {},\r\n});\r\n\r\n// Add this somewhere at the top level of your app (e.g., in App.js or a new context file)\r\nexport const BackgroundProvider = ({ children }) => {\r\n  const [backgroundVariant, setBackgroundVariant] = useState(\r\n    localStorage.getItem('backgroundVariant') || 'default'\r\n  );\r\n  \r\n  // Save to localStorage when changed\r\n  useEffect(() => {\r\n    localStorage.setItem('backgroundVariant', backgroundVariant);\r\n  }, [backgroundVariant]);\r\n  \r\n  return (\r\n    <BackgroundContext.Provider value={{ backgroundVariant, setBackgroundVariant }}>\r\n      {children}\r\n    </BackgroundContext.Provider>\r\n  );\r\n};\r\n\r\nconst SettingsPage = () => {\r\n  const { user, login, logout, updateUserContext } = useAuth();\r\n  const { darkMode, toggleDarkMode } = useTheme();\r\n  const [notifications, setNotifications] = useState(true);\r\n  const [emailUpdates, setEmailUpdates] = useState(true);\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isEditMode, setIsEditMode] = useState(false);\r\n  const [passwordStrength, setPasswordStrength] = useState(0);\r\n  const [expandedFaqIndex, setExpandedFaqIndex] = useState(null);\r\n  const navigate = useNavigate();\r\n  const [activeTab, setActiveTab] = useState('general');\r\n  const [backgroundVariant, setBackgroundVariant] = useState(\r\n    localStorage.getItem('backgroundVariant') || 'default'\r\n  );\r\n  \r\n  // Profile state\r\n  const [profile, setProfile] = useState({\r\n    username: user?.username || '',\r\n    email: user?.email || '',\r\n    currentPassword: '',\r\n    newPassword: '',\r\n    confirmPassword: '',\r\n    firstName: user?.firstName || '',\r\n    lastName: user?.lastName || ''\r\n  });\r\n\r\n  // Setup profile from user context when it changes\r\n  useEffect(() => {\r\n    if (user) {\r\n      setProfile(prevProfile => ({\r\n        ...prevProfile,\r\n        username: user.username || '',\r\n        email: user.email || '',\r\n        firstName: user.firstName || '',\r\n        lastName: user.lastName || ''\r\n      }));\r\n    }\r\n  }, [user]);\r\n\r\n  // Password strength checker\r\n  useEffect(() => {\r\n    if (!profile.newPassword) {\r\n      setPasswordStrength(0);\r\n      return;\r\n    }\r\n\r\n    // Calculate password strength\r\n    let strength = 0;\r\n    \r\n    // Length check\r\n    if (profile.newPassword.length >= 8) strength += 1;\r\n    \r\n    // Contains uppercase\r\n    if (/[A-Z]/.test(profile.newPassword)) strength += 1;\r\n    \r\n    // Contains lowercase\r\n    if (/[a-z]/.test(profile.newPassword)) strength += 1;\r\n    \r\n    // Contains number\r\n    if (/[0-9]/.test(profile.newPassword)) strength += 1;\r\n    \r\n    // Contains special character\r\n    if (/[^A-Za-z0-9]/.test(profile.newPassword)) strength += 1;\r\n    \r\n    setPasswordStrength(strength);\r\n  }, [profile.newPassword]);\r\n\r\n  const resetForm = () => {\r\n    setProfile({\r\n      username: user?.username || '',\r\n      email: user?.email || '',\r\n      currentPassword: '',\r\n      newPassword: '',\r\n      confirmPassword: '',\r\n      firstName: user?.firstName || '',\r\n      lastName: user?.lastName || ''\r\n    });\r\n    setIsEditMode(false);\r\n  };\r\n\r\n  const handleProfileChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setProfile(prevProfile => ({\r\n      ...prevProfile,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const validateForm = () => {\r\n    // Check if passwords match if user is changing password\r\n    if (profile.newPassword) {\r\n      if (!profile.currentPassword) {\r\n        setErrorMessage('Current password is required to set a new password');\r\n        return false;\r\n      }\r\n      if (profile.newPassword !== profile.confirmPassword) {\r\n        setErrorMessage('New passwords do not match');\r\n        return false;\r\n      }\r\n      if (profile.newPassword.length < 6) {\r\n        setErrorMessage('New password must be at least 6 characters');\r\n        return false;\r\n      }\r\n    }\r\n\r\n    // Validate username\r\n    if (!profile.username || profile.username.length < 3) {\r\n      setErrorMessage('Username must be at least 3 characters');\r\n      return false;\r\n    }\r\n\r\n    // Validate email format\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (profile.email && !emailRegex.test(profile.email)) {\r\n      setErrorMessage('Please enter a valid email address');\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  // FAQs data\r\n  const faqs = [\r\n    {\r\n      question: \"How do I change my password?\",\r\n      answer: \"To change your password, click the 'Edit Profile' button, enter your current password and choose a new one. For security, passwords should be at least 8 characters long with a mix of letters, numbers, and special characters.\"\r\n    },\r\n    {\r\n      question: \"What happens if I change my username?\",\r\n      answer: \"If you change your username, you'll be automatically logged out and redirected to the login page. You'll need to log in with your new username but using the same password.\"\r\n    },\r\n    {\r\n      question: \"Can I delete my account?\",\r\n      answer: \"Account deletion is handled by administrators. Please contact your system administrator if you need to delete your account or remove your data from the system.\"\r\n    },\r\n    {\r\n      question: \"How secure is my medical data?\",\r\n      answer: \"All medical data is stored securely and encrypted. We follow industry best practices to ensure your data remains private and is only accessible to authorized personnel.\"\r\n    }\r\n  ];\r\n\r\n  const toggleFaq = (index) => {\r\n    if (expandedFaqIndex === index) {\r\n      setExpandedFaqIndex(null);\r\n    } else {\r\n      setExpandedFaqIndex(index);\r\n    }\r\n  };\r\n\r\n  const updateUserProfile = async () => {\r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setErrorMessage('');\r\n    \r\n    try {\r\n      // Create update payload\r\n      const updateData = {\r\n        username: profile.username,\r\n        email: profile.email,\r\n        first_name: profile.firstName,\r\n        last_name: profile.lastName\r\n      };\r\n\r\n      // Only include password fields if user is changing password\r\n      if (profile.newPassword) {\r\n        updateData.current_password = profile.currentPassword;\r\n        updateData.password = profile.newPassword;\r\n      }\r\n\r\n      console.log('Sending profile update with data:', updateData);\r\n\r\n      // Call API to update user profile\r\n      const response = await axios.put(`/api/users/${user.username}`, updateData);\r\n      \r\n      if (response.data.success) {\r\n        console.log('Profile update successful. Server response:', response.data);\r\n        \r\n        // Check if username changed or password changed\r\n        const usernameChanged = profile.username !== user.username;\r\n        const passwordChanged = profile.newPassword && profile.newPassword.length > 0;\r\n        \r\n        // Username changes require logout and re-login (authentication token is tied to username)\r\n        if (usernameChanged) {\r\n          console.log('Username changed, will need to re-login');\r\n          setSuccessMessage('Username changed successfully! Please login with your new username.');\r\n          \r\n          // Store new username in session storage so login page can prefill it\r\n          sessionStorage.setItem('pendingUsername', profile.username);\r\n          \r\n          // Delayed logout after message is shown\r\n          setTimeout(() => {\r\n            logout();\r\n            navigate('/login');\r\n          }, 3000);\r\n          \r\n          // Return early to prevent additional logic\r\n          return;\r\n        }\r\n        \r\n        // Handle password change - try silent reauthentication if possible\r\n        if (passwordChanged) {\r\n          console.log('Password changed, attempting silent reauthentication');\r\n          \r\n          try {\r\n            // Silent re-login attempt with new password\r\n            const loginResponse = await login(user.username, profile.newPassword);\r\n            if (loginResponse.success) {\r\n              setSuccessMessage('Profile updated successfully!');\r\n              console.log('Silent re-authentication successful');\r\n            } else {\r\n              // This is unlikely to happen - if the profile update worked but re-login failed\r\n              console.warn('Silent re-authentication failed after successful password change');\r\n              setSuccessMessage('Profile updated successfully!');\r\n            }\r\n          } catch (loginError) {\r\n            console.error('Error during silent re-authentication:', loginError);\r\n            // Even if silent re-auth fails, profile was still updated\r\n            setSuccessMessage('Profile updated successfully!');\r\n          }\r\n        } else {\r\n          // Just a regular profile update (no credentials changed)\r\n          console.log('Regular profile update, no credential changes');\r\n          setSuccessMessage('Profile updated successfully!');\r\n        }\r\n        \r\n        // For all changes except username change, update the user context\r\n        updateUserContext({\r\n          firstName: profile.firstName,\r\n          lastName: profile.lastName,\r\n          email: profile.email\r\n        });\r\n        \r\n        console.log('User context updated with new profile information');\r\n        \r\n        // Exit edit mode\r\n        setIsEditMode(false);\r\n        \r\n        // Clear the success message after 3 seconds for normal updates\r\n        setTimeout(() => {\r\n          setSuccessMessage('');\r\n        }, 3000);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating profile:', error);\r\n      \r\n      // Handle error response and show appropriate message\r\n      if (error.response?.status === 401) {\r\n        setErrorMessage('Current password is incorrect. Please try again.');\r\n      } else if (error.response?.status === 403) {\r\n        setErrorMessage('Unauthorized. You do not have permission to update this profile.');\r\n      } else if (error.response?.data?.message) {\r\n        setErrorMessage(error.response.data.message);\r\n      } else {\r\n        setErrorMessage('Failed to update profile. Please try again later.');\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Helper for password strength indicator\r\n  const getPasswordStrengthLabel = () => {\r\n    if (!profile.newPassword) return '';\r\n    \r\n    const labels = ['Very Weak', 'Weak', 'Moderate', 'Strong', 'Very Strong'];\r\n    return labels[Math.min(passwordStrength, 4)];\r\n  };\r\n\r\n  const getPasswordStrengthColor = () => {\r\n    if (!profile.newPassword) return 'bg-gray-200';\r\n    \r\n    const colors = [\r\n      'bg-red-500',           // Very Weak\r\n      'bg-orange-500',        // Weak\r\n      'bg-yellow-500',        // Moderate\r\n      'bg-green-400',         // Strong\r\n      'bg-green-500'          // Very Strong\r\n    ];\r\n    \r\n    return colors[Math.min(passwordStrength, 4)];\r\n  };\r\n\r\n  // Function to handle background variant change\r\n  const handleBackgroundChange = (variant) => {\r\n    setBackgroundVariant(variant);\r\n    localStorage.setItem('backgroundVariant', variant);\r\n    // You might want to dispatch an event or use context to update this globally\r\n  };\r\n\r\n  return (\r\n    <div className={`max-w-4xl mx-auto ${darkMode ? 'text-white' : ''}`}>\r\n      <h1 className={`text-2xl font-semibold mb-6 ${darkMode ? 'text-white' : 'text-gray-900'}`}>Settings</h1>\r\n      \r\n      {/* Success message notification */}\r\n      {successMessage && (\r\n        <div className={`${darkMode ? 'bg-green-900/50 border-green-700' : 'bg-green-50 border-green-200'} border rounded-md p-4 mb-6`}>\r\n          <div className=\"flex\">\r\n            <div className=\"flex-shrink-0\">\r\n              <CheckIcon className={`h-5 w-5 ${darkMode ? 'text-green-300' : 'text-green-400'}`} aria-hidden=\"true\" />\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <p className={`text-sm font-medium ${darkMode ? 'text-green-300' : 'text-green-800'}`}>{successMessage}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Error message notification */}\r\n      {errorMessage && (\r\n        <div className={`${darkMode ? 'bg-red-900/50 border-red-700' : 'bg-red-50 border-red-200'} border rounded-md p-4 mb-6`}>\r\n          <div className=\"flex\">\r\n            <div className=\"flex-shrink-0\">\r\n              <ExclamationCircleIcon className={`h-5 w-5 ${darkMode ? 'text-red-300' : 'text-red-400'}`} aria-hidden=\"true\" />\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <p className={`text-sm font-medium ${darkMode ? 'text-red-300' : 'text-red-800'}`}>{errorMessage}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"space-y-6\">\r\n        {/* Profile Card */}\r\n        <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} shadow sm:rounded-lg`}>\r\n          <div className=\"px-4 py-5 sm:p-6\">\r\n            <div className=\"flex justify-between\">\r\n              <h3 className={`text-lg leading-6 font-medium ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                Profile Information\r\n              </h3>\r\n              <div>\r\n                {!isEditMode ? (\r\n                  <button\r\n                    onClick={() => setIsEditMode(true)}\r\n                    className={`flex items-center px-3 py-1.5 rounded-md ${darkMode ? 'bg-gray-700 hover:bg-gray-600 text-white' : 'bg-gray-100 hover:bg-gray-200 text-gray-700'}`}\r\n                  >\r\n                    <PencilIcon className=\"h-4 w-4 mr-1\" />\r\n                    Edit Profile\r\n                  </button>\r\n                ) : (\r\n                  <div className=\"flex space-x-2\">\r\n                    <button\r\n                      onClick={resetForm}\r\n                      className={`flex items-center px-3 py-1.5 rounded-md ${darkMode ? 'bg-gray-700 hover:bg-gray-600 text-white' : 'bg-gray-100 hover:bg-gray-200 text-gray-700'}`}\r\n                      disabled={isLoading}\r\n                    >\r\n                      <XMarkIcon className=\"h-4 w-4 mr-1\" />\r\n                      Cancel\r\n                    </button>\r\n                    <button\r\n                      onClick={updateUserProfile}\r\n                      className={`flex items-center px-3 py-1.5 rounded-md bg-indigo-600 hover:bg-indigo-700 text-white`}\r\n                      disabled={isLoading}\r\n                    >\r\n                      {isLoading ? (\r\n                        <svg className=\"animate-spin h-4 w-4 mr-1 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                          <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                          <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                        </svg>\r\n                      ) : (\r\n                        <CheckIcon className=\"h-4 w-4 mr-1\" />\r\n                      )}\r\n                      Save Changes\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"mt-5 space-y-4\">\r\n              {/* Form Fields */}\r\n              <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2\">\r\n                <div>\r\n                  <label htmlFor=\"username\" className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                    Username\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"username\"\r\n                    id=\"username\"\r\n                    value={profile.username}\r\n                    onChange={handleProfileChange}\r\n                    disabled={!isEditMode}\r\n                    className={`mt-1 block w-full py-2 px-3 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${!isEditMode ? (darkMode ? 'bg-gray-600' : 'bg-gray-100') : ''}`}\r\n                  />\r\n                  {isEditMode && (\r\n                    <p className={`mt-1 text-xs ${darkMode ? 'text-yellow-300' : 'text-yellow-600'}`}>\r\n                      Changing your username will require you to log in again\r\n                    </p>\r\n                  )}\r\n                </div>\r\n                \r\n                <div>\r\n                  <label htmlFor=\"email\" className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                    Email\r\n                  </label>\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    id=\"email\"\r\n                    value={profile.email}\r\n                    onChange={handleProfileChange}\r\n                    disabled={!isEditMode}\r\n                    className={`mt-1 block w-full py-2 px-3 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${!isEditMode ? (darkMode ? 'bg-gray-600' : 'bg-gray-100') : ''}`}\r\n                  />\r\n                </div>\r\n                \r\n                <div>\r\n                  <label htmlFor=\"firstName\" className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                    First Name\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"firstName\"\r\n                    id=\"firstName\"\r\n                    value={profile.firstName}\r\n                    onChange={handleProfileChange}\r\n                    disabled={!isEditMode}\r\n                    className={`mt-1 block w-full py-2 px-3 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${!isEditMode ? (darkMode ? 'bg-gray-600' : 'bg-gray-100') : ''}`}\r\n                  />\r\n                </div>\r\n                \r\n                <div>\r\n                  <label htmlFor=\"lastName\" className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                    Last Name\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"lastName\"\r\n                    id=\"lastName\"\r\n                    value={profile.lastName}\r\n                    onChange={handleProfileChange}\r\n                    disabled={!isEditMode}\r\n                    className={`mt-1 block w-full py-2 px-3 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${!isEditMode ? (darkMode ? 'bg-gray-600' : 'bg-gray-100') : ''}`}\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Password Fields - Only show when in edit mode */}\r\n              {isEditMode && (\r\n                <div className=\"mt-6\">\r\n                  <h4 className={`text-sm font-medium mb-3 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>Change Password</h4>\r\n                  <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-3\">\r\n                    <div>\r\n                      <label htmlFor=\"currentPassword\" className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                        Current Password\r\n                      </label>\r\n                      <input\r\n                        type=\"password\"\r\n                        name=\"currentPassword\"\r\n                        id=\"currentPassword\"\r\n                        value={profile.currentPassword}\r\n                        onChange={handleProfileChange}\r\n                        className={`mt-1 block w-full py-2 px-3 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label htmlFor=\"newPassword\" className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                        New Password\r\n                      </label>\r\n                      <input\r\n                        type=\"password\"\r\n                        name=\"newPassword\"\r\n                        id=\"newPassword\"\r\n                        value={profile.newPassword}\r\n                        onChange={handleProfileChange}\r\n                        className={`mt-1 block w-full py-2 px-3 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}\r\n                      />\r\n                      {profile.newPassword && (\r\n                        <div className=\"mt-2\">\r\n                          <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\r\n                            <div className={`h-2.5 rounded-full ${getPasswordStrengthColor()}`} style={{ width: `${(passwordStrength / 5) * 100}%` }}></div>\r\n                          </div>\r\n                          <p className={`text-xs mt-1 ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                            Password strength: <span className={`font-medium ${passwordStrength >= 3 ? (darkMode ? 'text-green-300' : 'text-green-600') : (darkMode ? 'text-yellow-300' : 'text-yellow-600')}`}>{getPasswordStrengthLabel()}</span>\r\n                          </p>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label htmlFor=\"confirmPassword\" className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                        Confirm New Password\r\n                      </label>\r\n                      <input\r\n                        type=\"password\"\r\n                        name=\"confirmPassword\"\r\n                        id=\"confirmPassword\"\r\n                        value={profile.confirmPassword}\r\n                        onChange={handleProfileChange}\r\n                        className={`mt-1 block w-full py-2 px-3 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}\r\n                      />\r\n                      {profile.newPassword && profile.confirmPassword && (\r\n                        <p className={`mt-1 text-xs ${profile.newPassword === profile.confirmPassword ? (darkMode ? 'text-green-300' : 'text-green-600') : (darkMode ? 'text-red-300' : 'text-red-600')}`}>\r\n                          {profile.newPassword === profile.confirmPassword ? 'Passwords match ✓' : 'Passwords do not match ✗'}\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Theme Toggle Card */}\r\n        <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} shadow sm:rounded-lg`}>\r\n          <div className=\"px-4 py-5 sm:p-6\">\r\n            <h3 className={`text-lg leading-6 font-medium ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n              Appearance\r\n            </h3>\r\n            <div className=\"mt-4 flex items-center justify-between\">\r\n              <span className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                Dark Mode\r\n              </span>\r\n              <button\r\n                onClick={toggleDarkMode}\r\n                className={`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none ${darkMode ? 'bg-indigo-600' : 'bg-gray-300'}`}\r\n              >\r\n                <span className=\"sr-only\">Toggle dark mode</span>\r\n                <span\r\n                  className={`${\r\n                    darkMode ? 'translate-x-6 bg-white text-indigo-600' : 'translate-x-1 bg-white text-gray-400'\r\n                  } inline-block w-4 h-4 transform rounded-full transition-transform relative`}\r\n                >\r\n                  {darkMode ? (\r\n                    <MoonIcon className=\"h-3 w-3 absolute top-0.5 left-0.5\" />\r\n                  ) : (\r\n                    <SunIcon className=\"h-3 w-3 absolute top-0.5 left-0.5\" />\r\n                  )}\r\n                </span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Notification Settings Card */}\r\n        <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} shadow sm:rounded-lg`}>\r\n          <div className=\"px-4 py-5 sm:p-6\">\r\n            <h3 className={`text-lg leading-6 font-medium ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n              Notification Settings\r\n            </h3>\r\n            <div className=\"mt-4 space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                  System Notifications\r\n                </span>\r\n                <button\r\n                  onClick={() => setNotifications(!notifications)}\r\n                  className={`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none ${notifications ? 'bg-indigo-600' : 'bg-gray-300'}`}\r\n                >\r\n                  <span className=\"sr-only\">Toggle notifications</span>\r\n                  <span\r\n                    className={`${\r\n                      notifications ? 'translate-x-6' : 'translate-x-1'\r\n                    } inline-block w-4 h-4 transform bg-white rounded-full transition-transform`}\r\n                  ></span>\r\n                </button>\r\n              </div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                  Email Updates\r\n                </span>\r\n                <button\r\n                  onClick={() => setEmailUpdates(!emailUpdates)}\r\n                  className={`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none ${emailUpdates ? 'bg-indigo-600' : 'bg-gray-300'}`}\r\n                >\r\n                  <span className=\"sr-only\">Toggle email updates</span>\r\n                  <span\r\n                    className={`${\r\n                      emailUpdates ? 'translate-x-6' : 'translate-x-1'\r\n                    } inline-block w-4 h-4 transform bg-white rounded-full transition-transform`}\r\n                  ></span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* FAQ Section */}\r\n      <div className={`mt-8 ${darkMode ? 'bg-gray-800' : 'bg-white'} shadow sm:rounded-lg`}>\r\n        <div className=\"px-4 py-5 sm:p-6\">\r\n          <h3 className={`text-lg leading-6 font-medium ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n            <div className=\"flex items-center\">\r\n              <QuestionMarkCircleIcon className=\"h-5 w-5 mr-2\" />\r\n              Frequently Asked Questions\r\n            </div>\r\n          </h3>\r\n          \r\n          <div className=\"mt-6 space-y-4\">\r\n            {faqs.map((faq, index) => (\r\n              <div \r\n                key={index} \r\n                className={`overflow-hidden ${darkMode ? 'bg-gray-700' : 'bg-gray-50'} rounded-lg transition-all duration-200`}\r\n              >\r\n                <button\r\n                  onClick={() => toggleFaq(index)}\r\n                  className={`w-full px-4 py-3 text-left ${darkMode ? 'hover:bg-gray-600' : 'hover:bg-gray-100'} flex justify-between items-center`}\r\n                >\r\n                  <span className={`font-medium ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                    {faq.question}\r\n                  </span>\r\n                  {expandedFaqIndex === index ? (\r\n                    <ChevronUpIcon className=\"h-5 w-5\" />\r\n                  ) : (\r\n                    <ChevronDownIcon className=\"h-5 w-5\" />\r\n                  )}\r\n                </button>\r\n                \r\n                <div \r\n                  className={`transition-all duration-300 ease-in-out overflow-hidden ${\r\n                    expandedFaqIndex === index ? 'max-h-40 opacity-100' : 'max-h-0 opacity-0'\r\n                  }`}\r\n                >\r\n                  <div className={`px-4 pb-3 text-sm ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                    {faq.answer}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingsPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}