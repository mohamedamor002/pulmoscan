{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import axios from'axios';import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend,ArcElement}from'chart.js';import{Bar,Pie}from'react-chartjs-2';import{CloudArrowUpIcon,DocumentTextIcon,ExclamationCircleIcon,ChartPieIcon,UserGroupIcon,CalendarIcon,ClockIcon}from'@heroicons/react/24/outline';import{useTheme}from'../contexts/ThemeContext';import{useAuth}from'../contexts/AuthContext';// Register ChartJS components\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend,ArcElement);const DashboardPage=()=>{const[results,setResults]=useState([]);const[recentActivity,setRecentActivity]=useState([]);const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(null);const[stats,setStats]=useState({totalScans:0,scansWithNodules:0,totalNodules:0,averageNodulesPerScan:0,failedScans:0});const{darkMode}=useTheme();const{user}=useAuth();// Format dates\nconst formatDate=dateString=>{if(!dateString)return'';const date=new Date(dateString);return new Intl.DateTimeFormat('en-US',{month:'short',day:'numeric',year:'numeric',hour:'2-digit',minute:'2-digit'}).format(date);};// Generate time elapsed string\nconst timeElapsed=dateString=>{if(!dateString)return'';const date=new Date(dateString);const now=new Date();const diffMs=now-date;const diffSec=Math.floor(diffMs/1000);const diffMin=Math.floor(diffSec/60);const diffHour=Math.floor(diffMin/60);const diffDay=Math.floor(diffHour/24);if(diffDay>0)return`${diffDay} day${diffDay!==1?'s':''} ago`;if(diffHour>0)return`${diffHour} hour${diffHour!==1?'s':''} ago`;if(diffMin>0)return`${diffMin} minute${diffMin!==1?'s':''} ago`;return'Just now';};useEffect(()=>{const fetchResults=async()=>{try{setIsLoading(true);const response=await axios.get('/api/results');const data=response.data||[];setResults(data);if(data.length===0){// No results to process\nsetStats({totalScans:0,scansWithNodules:0,totalNodules:0,averageNodulesPerScan:0,failedScans:0});setRecentActivity([]);setIsLoading(false);return;}// Create recent activity data\nconst sortedByDate=[...data].sort((a,b)=>{return new Date(b.date||0)-new Date(a.date||0);});// Take only the 5 most recent items\nconst recentItems=sortedByDate.slice(0,5).map(result=>({id:result.id||Math.random().toString(36).substring(7),case_name:result.case_name,date:result.date,type:'scan_upload',user:result.user||'Unknown',timeAgo:timeElapsed(result.date)}));setRecentActivity(recentItems);// Calculate statistics\nconst scansWithNodules=await Promise.all(data.map(async result=>{try{var _detailsResponse$data;const detailsResponse=await axios.get(`/api/results/${result.case_name}/details`);const details=((_detailsResponse$data=detailsResponse.data)===null||_detailsResponse$data===void 0?void 0:_detailsResponse$data.details)||'';// Simple text parsing to determine if nodules were found\nconst hasNodules=details&&!details.includes('No nodules detected')&&!details.includes('No detailed information available');// Count nodules by looking for \"Nodule X:\" patterns in the text\nconst noduleMatches=details.match(/Nodule \\d+:/g)||[];const noduleCount=noduleMatches.length;return{...result,hasNodules,noduleCount,hasDetails:!!details};}catch(error){console.error(`Error fetching details for ${result.case_name}:`,error);// Return the result with default values even if details fail to load\nreturn{...result,hasNodules:false,noduleCount:0,hasDetails:false,error:true};}}));// Filter out results that had errors if needed\nconst validResults=scansWithNodules.filter(scan=>!scan.error);const validResultsCount=validResults.length;// Continue even if some scans had errors\nconst withNodules=scansWithNodules.filter(scan=>scan.hasNodules);const totalNodules=scansWithNodules.reduce((sum,scan)=>sum+scan.noduleCount,0);const failedScans=scansWithNodules.filter(scan=>scan.error).length;setStats({totalScans:data.length,scansWithNodules:withNodules.length,totalNodules:totalNodules,averageNodulesPerScan:validResultsCount>0?(totalNodules/validResultsCount).toFixed(2):0,failedScans:failedScans});setIsLoading(false);}catch(error){console.error('Error fetching results:',error);// Provide more specific error message based on the error\nlet errorMessage='Failed to load results data. Please try refreshing the page.';if(error.response){// The request was made and the server responded with a status code\n// that falls out of the range of 2xx\nconsole.error('Error response data:',error.response.data);errorMessage=`Server error: ${error.response.status}. Please try again later.`;}else if(error.request){// The request was made but no response was received\nerrorMessage='No response from server. Please check your network connection.';}setError(errorMessage);// Still set some empty results to allow partial dashboard rendering\nsetResults([]);setStats({totalScans:0,scansWithNodules:0,totalNodules:0,averageNodulesPerScan:0,failedScans:0});setIsLoading(false);}};fetchResults();},[]);// Prepare data for the bar chart\nconst barChartData={labels:['With Nodules','Without Nodules'],datasets:[{label:'CT Scans',data:[stats.scansWithNodules,stats.totalScans-stats.scansWithNodules],backgroundColor:['rgba(79, 70, 229, 0.6)','rgba(209, 213, 219, 0.6)'],borderColor:['rgba(79, 70, 229, 1)','rgba(209, 213, 219, 1)'],borderWidth:1}]};// Prepare data for the pie chart\nconst pieChartData={labels:['With Nodules','Without Nodules'],datasets:[{data:[stats.scansWithNodules,stats.totalScans-stats.scansWithNodules],backgroundColor:['rgba(79, 70, 229, 0.6)','rgba(209, 213, 219, 0.6)'],borderColor:['rgba(79, 70, 229, 1)','rgba(209, 213, 219, 1)'],borderWidth:1}]};const chartOptions={responsive:true,plugins:{legend:{position:'top',labels:{color:darkMode?'#fff':'#000',font:{size:12}}},title:{display:true,text:'Nodule Detection Results',color:darkMode?'#fff':'#000',font:{size:14,weight:'bold'}}},scales:{y:{beginAtZero:true,ticks:{precision:0,color:darkMode?'#fff':'#000'},grid:{color:darkMode?'rgba(255, 255, 255, 0.1)':'rgba(0, 0, 0, 0.1)'}},x:{ticks:{color:darkMode?'#fff':'#000'},grid:{color:darkMode?'rgba(255, 255, 255, 0.1)':'rgba(0, 0, 0, 0.1)'}}}};const pieChartOptions={responsive:true,plugins:{legend:{position:'bottom',labels:{color:darkMode?'#fff':'#000',font:{size:12}}},title:{display:true,text:'Scans Distribution',color:darkMode?'#fff':'#000',font:{size:14,weight:'bold'}}}};// Quick action buttons for the dashboard\nconst quickActions=[{title:'Upload New Scan',icon:/*#__PURE__*/_jsx(CloudArrowUpIcon,{className:\"h-6 w-6\"}),link:'/upload',primary:true,description:'Upload a new CT scan for analysis'},{title:'View All Results',icon:/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"h-6 w-6\"}),link:'/results',primary:false,description:'Browse through all previous scan results'},{title:'User Settings',icon:/*#__PURE__*/_jsx(UserGroupIcon,{className:\"h-6 w-6\"}),link:'/settings',primary:false,description:'Manage user account settings'}];return/*#__PURE__*/_jsxs(\"div\",{className:`space-y-6 ${darkMode?'text-white':''}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:`text-2xl font-semibold ${darkMode?'text-white':'text-gray-900'}`,children:[\"Welcome to PulmoScan, \",(user===null||user===void 0?void 0:user.username)||'User']}),/*#__PURE__*/_jsx(\"p\",{className:`text-sm mt-1 ${darkMode?'text-gray-300':'text-gray-500'}`,children:\"Here's your dashboard overview of lung nodule detection activity\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-3\",children:quickActions.map((action,index)=>/*#__PURE__*/_jsxs(Link,{to:action.link,className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${action.primary?'bg-indigo-600 text-white hover:bg-indigo-700':darkMode?'bg-gray-700 text-white hover:bg-gray-600':'bg-white text-gray-700 hover:bg-gray-50 border border-gray-300'}`,children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:action.icon}),action.title]},index))})]}),isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-indigo-600 border-r-transparent\"}),/*#__PURE__*/_jsx(\"p\",{className:`mt-4 ${darkMode?'text-gray-300':'text-gray-600'}`,children:\"Loading dashboard data...\"})]}):error?/*#__PURE__*/_jsx(\"div\",{className:`${darkMode?'bg-red-900':'bg-red-50'} p-4 rounded-md`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(ExclamationCircleIcon,{className:`h-5 w-5 ${darkMode?'text-red-300':'text-red-400'}`,\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"h3\",{className:`text-sm font-medium ${darkMode?'text-red-100':'text-red-800'}`,children:error})})]})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:`${darkMode?'bg-gray-800':'bg-white'} overflow-hidden shadow rounded-lg transition-transform duration-300 hover:shadow-lg transform hover:-translate-y-1`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-5 sm:p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 bg-indigo-500 rounded-md p-3\",children:/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"h-6 w-6 text-white\",\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:`text-sm font-medium ${darkMode?'text-gray-300':'text-gray-500'} truncate`,children:\"Total Scans\"}),/*#__PURE__*/_jsx(\"dd\",{className:`text-3xl font-semibold ${darkMode?'text-white':'text-gray-900'}`,children:stats.totalScans})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:`px-4 py-4 sm:px-6 ${darkMode?'bg-gray-700/50':'bg-gray-50'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm flex justify-between items-center\",children:[/*#__PURE__*/_jsx(Link,{to:\"/results\",className:`font-medium ${darkMode?'text-indigo-400 hover:text-indigo-300':'text-indigo-600 hover:text-indigo-700'}`,children:\"View all\"}),/*#__PURE__*/_jsxs(\"span\",{className:darkMode?'text-gray-300':'text-gray-500',children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"inline-block h-4 w-4 mr-1\"}),\"All time\"]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:`${darkMode?'bg-gray-800':'bg-white'} overflow-hidden shadow rounded-lg transition-transform duration-300 hover:shadow-lg transform hover:-translate-y-1`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-5 sm:p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 bg-green-500 rounded-md p-3\",children:/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"h-6 w-6 text-white\",\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:`text-sm font-medium ${darkMode?'text-gray-300':'text-gray-500'} truncate`,children:\"Scans With Nodules\"}),/*#__PURE__*/_jsx(\"dd\",{className:`text-3xl font-semibold ${darkMode?'text-white':'text-gray-900'}`,children:stats.scansWithNodules})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:`px-4 py-4 sm:px-6 ${darkMode?'bg-gray-700/50':'bg-gray-50'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:`font-medium ${stats.scansWithNodules>0?darkMode?'text-green-400':'text-green-600':darkMode?'text-gray-400':'text-gray-500'}`,children:stats.scansWithNodules>0?`${(stats.scansWithNodules/stats.totalScans*100).toFixed(1)}% of total`:'No nodules detected'}),/*#__PURE__*/_jsxs(\"span\",{className:darkMode?'text-gray-300':'text-gray-500',children:[/*#__PURE__*/_jsx(ChartPieIcon,{className:\"inline-block h-4 w-4 mr-1\"}),\"Statistics\"]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:`${darkMode?'bg-gray-800':'bg-white'} overflow-hidden shadow rounded-lg transition-transform duration-300 hover:shadow-lg transform hover:-translate-y-1`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-5 sm:p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 bg-yellow-500 rounded-md p-3\",children:/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"h-6 w-6 text-white\",\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:`text-sm font-medium ${darkMode?'text-gray-300':'text-gray-500'} truncate`,children:\"Total Nodules Detected\"}),/*#__PURE__*/_jsx(\"dd\",{className:`text-3xl font-semibold ${darkMode?'text-white':'text-gray-900'}`,children:stats.totalNodules})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:`px-4 py-4 sm:px-6 ${darkMode?'bg-gray-700/50':'bg-gray-50'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:`font-medium ${darkMode?'text-yellow-400':'text-yellow-600'}`,children:[stats.averageNodulesPerScan,\" avg per scan\"]}),/*#__PURE__*/_jsxs(\"span\",{className:darkMode?'text-gray-300':'text-gray-500',children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"inline-block h-4 w-4 mr-1\"}),\"All time\"]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:`${darkMode?'bg-gray-800':'bg-white'} overflow-hidden shadow rounded-lg transition-transform duration-300 hover:shadow-lg transform hover:-translate-y-1`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-5 sm:p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 bg-indigo-500 rounded-md p-3\",children:/*#__PURE__*/_jsx(UserGroupIcon,{className:\"h-6 w-6 text-white\",\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:`text-sm font-medium ${darkMode?'text-gray-300':'text-gray-500'} truncate`,children:\"Role\"}),/*#__PURE__*/_jsx(\"dd\",{className:`text-3xl font-semibold ${darkMode?'text-white':'text-gray-900'}`,children:((user===null||user===void 0?void 0:user.role)||'').charAt(0).toUpperCase()+((user===null||user===void 0?void 0:user.role)||'').slice(1)})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:`px-4 py-4 sm:px-6 ${darkMode?'bg-gray-700/50':'bg-gray-50'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm flex justify-between items-center\",children:[/*#__PURE__*/_jsx(Link,{to:\"/settings\",className:`font-medium ${darkMode?'text-indigo-400 hover:text-indigo-300':'text-indigo-600 hover:text-indigo-700'}`,children:\"Account Settings\"}),/*#__PURE__*/_jsx(\"span\",{className:darkMode?'text-gray-300':'text-gray-500',children:(user===null||user===void 0?void 0:user.username)||'User'})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-5 mt-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:`lg:col-span-2 ${darkMode?'bg-gray-800':'bg-white'} rounded-lg shadow p-5`,children:[/*#__PURE__*/_jsx(\"h2\",{className:`text-lg font-medium mb-4 ${darkMode?'text-white':'text-gray-900'}`,children:\"Nodule Detection Results\"}),stats.totalScans>0?/*#__PURE__*/_jsx(\"div\",{className:\"h-64\",children:/*#__PURE__*/_jsx(Bar,{data:barChartData,options:chartOptions})}):/*#__PURE__*/_jsxs(\"div\",{className:`flex flex-col items-center justify-center h-64 ${darkMode?'text-gray-400':'text-gray-500'}`,children:[/*#__PURE__*/_jsx(ChartPieIcon,{className:\"h-16 w-16 mb-4 opacity-50\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium\",children:\"No scan data available\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mt-2\",children:\"Upload your first scan to see results\"}),/*#__PURE__*/_jsx(Link,{to:\"/upload\",className:\"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md text-sm font-medium hover:bg-indigo-700 transition-colors\",children:\"Upload Now\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:`${darkMode?'bg-gray-800':'bg-white'} rounded-lg shadow p-5`,children:[/*#__PURE__*/_jsx(\"h2\",{className:`text-lg font-medium mb-4 ${darkMode?'text-white':'text-gray-900'}`,children:\"Recent Activity\"}),recentActivity.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[recentActivity.map((activity,index)=>/*#__PURE__*/_jsxs(\"div\",{className:`flex items-start p-3 rounded-lg ${darkMode?'bg-gray-700 hover:bg-gray-700/80':'bg-gray-50 hover:bg-gray-100'} transition-colors`,children:[/*#__PURE__*/_jsx(\"div\",{className:`flex-shrink-0 rounded-full p-2 ${darkMode?'bg-gray-600':'bg-gray-200'}`,children:/*#__PURE__*/_jsx(ClockIcon,{className:`h-5 w-5 ${darkMode?'text-indigo-400':'text-indigo-500'}`})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3 flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"p\",{className:`text-sm font-medium ${darkMode?'text-white':'text-gray-900'}`,children:/*#__PURE__*/_jsx(Link,{to:`/results/${activity.case_name}`,className:\"hover:underline\",children:activity.case_name})}),/*#__PURE__*/_jsx(\"span\",{className:`text-xs ${darkMode?'text-gray-400':'text-gray-500'}`,children:activity.timeAgo})]}),/*#__PURE__*/_jsxs(\"p\",{className:`text-xs ${darkMode?'text-gray-400':'text-gray-500'}`,children:[\"Uploaded by \",activity.user]})]})]},activity.id||index)),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-4\",children:/*#__PURE__*/_jsx(Link,{to:\"/results\",className:`text-sm font-medium ${darkMode?'text-indigo-400 hover:text-indigo-300':'text-indigo-600 hover:text-indigo-700'}`,children:\"View all activity \\u2192\"})})]}):/*#__PURE__*/_jsxs(\"div\",{className:`flex flex-col items-center justify-center h-64 ${darkMode?'text-gray-400':'text-gray-500'}`,children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-12 w-12 mb-3 opacity-50\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-base font-medium\",children:\"No recent activity\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mt-1\",children:\"Your activity will appear here\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:`mt-8 ${darkMode?'bg-gray-800':'bg-white'} rounded-lg shadow p-5`,children:[/*#__PURE__*/_jsx(\"h2\",{className:`text-lg font-medium mb-4 ${darkMode?'text-white':'text-gray-900'}`,children:\"Quick Actions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-5\",children:quickActions.map((action,index)=>/*#__PURE__*/_jsxs(Link,{to:action.link,className:`flex flex-col items-center justify-center p-6 rounded-lg transition-all transform hover:scale-102 ${action.primary?'bg-indigo-600 text-white hover:bg-indigo-700':darkMode?'bg-gray-700 text-white hover:bg-gray-700/80':'bg-gray-50 text-gray-700 hover:bg-gray-100'}`,children:[/*#__PURE__*/_jsx(\"div\",{className:`rounded-full p-4 mb-3 ${action.primary?'bg-indigo-500':darkMode?'bg-gray-600':'bg-white'}`,children:action.icon}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium mb-1\",children:action.title}),/*#__PURE__*/_jsx(\"p\",{className:`text-sm text-center ${action.primary?'text-indigo-100':darkMode?'text-gray-300':'text-gray-500'}`,children:action.description})]},index))})]})]})]});};export default DashboardPage;","map":{"version":3,"names":["React","useState","useEffect","Link","axios","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","ArcElement","Bar","Pie","CloudArrowUpIcon","DocumentTextIcon","ExclamationCircleIcon","ChartPieIcon","UserGroupIcon","CalendarIcon","ClockIcon","useTheme","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","register","DashboardPage","results","setResults","recentActivity","setRecentActivity","isLoading","setIsLoading","error","setError","stats","setStats","totalScans","scansWithNodules","totalNodules","averageNodulesPerScan","failedScans","darkMode","user","formatDate","dateString","date","Date","Intl","DateTimeFormat","month","day","year","hour","minute","format","timeElapsed","now","diffMs","diffSec","Math","floor","diffMin","diffHour","diffDay","fetchResults","response","get","data","length","sortedByDate","sort","a","b","recentItems","slice","map","result","id","random","toString","substring","case_name","type","timeAgo","Promise","all","_detailsResponse$data","detailsResponse","details","hasNodules","includes","noduleMatches","match","noduleCount","hasDetails","console","validResults","filter","scan","validResultsCount","withNodules","reduce","sum","toFixed","errorMessage","status","request","barChartData","labels","datasets","label","backgroundColor","borderColor","borderWidth","pieChartData","chartOptions","responsive","plugins","legend","position","color","font","size","title","display","text","weight","scales","y","beginAtZero","ticks","precision","grid","x","pieChartOptions","quickActions","icon","className","link","primary","description","children","username","action","index","to","role","charAt","toUpperCase","options","activity"],"sources":["C:/Users/kouss/Desktop/Cursor/Segmentation/pipeline/webapp/static/src/pages/DashboardPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, ArcElement } from 'chart.js';\r\nimport { Bar, Pie } from 'react-chartjs-2';\r\nimport { CloudArrowUpIcon, DocumentTextIcon, ExclamationCircleIcon, ChartPieIcon, UserGroupIcon, CalendarIcon, ClockIcon } from '@heroicons/react/24/outline';\r\nimport { useTheme } from '../contexts/ThemeContext';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\n// Register ChartJS components\r\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, ArcElement);\r\n\r\nconst DashboardPage = () => {\r\n  const [results, setResults] = useState([]);\r\n  const [recentActivity, setRecentActivity] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [stats, setStats] = useState({\r\n    totalScans: 0,\r\n    scansWithNodules: 0,\r\n    totalNodules: 0,\r\n    averageNodulesPerScan: 0,\r\n    failedScans: 0\r\n  });\r\n  const { darkMode } = useTheme();\r\n  const { user } = useAuth();\r\n\r\n  // Format dates\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return '';\r\n    const date = new Date(dateString);\r\n    return new Intl.DateTimeFormat('en-US', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n      year: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    }).format(date);\r\n  };\r\n\r\n  // Generate time elapsed string\r\n  const timeElapsed = (dateString) => {\r\n    if (!dateString) return '';\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffMs = now - date;\r\n    const diffSec = Math.floor(diffMs / 1000);\r\n    const diffMin = Math.floor(diffSec / 60);\r\n    const diffHour = Math.floor(diffMin / 60);\r\n    const diffDay = Math.floor(diffHour / 24);\r\n\r\n    if (diffDay > 0) return `${diffDay} day${diffDay !== 1 ? 's' : ''} ago`;\r\n    if (diffHour > 0) return `${diffHour} hour${diffHour !== 1 ? 's' : ''} ago`;\r\n    if (diffMin > 0) return `${diffMin} minute${diffMin !== 1 ? 's' : ''} ago`;\r\n    return 'Just now';\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchResults = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        const response = await axios.get('/api/results');\r\n        const data = response.data || [];\r\n        setResults(data);\r\n        \r\n        if (data.length === 0) {\r\n          // No results to process\r\n          setStats({\r\n            totalScans: 0,\r\n            scansWithNodules: 0,\r\n            totalNodules: 0,\r\n            averageNodulesPerScan: 0,\r\n            failedScans: 0\r\n          });\r\n          setRecentActivity([]);\r\n          setIsLoading(false);\r\n          return;\r\n        }\r\n        \r\n        // Create recent activity data\r\n        const sortedByDate = [...data].sort((a, b) => {\r\n          return new Date(b.date || 0) - new Date(a.date || 0);\r\n        });\r\n        \r\n        // Take only the 5 most recent items\r\n        const recentItems = sortedByDate.slice(0, 5).map(result => ({\r\n          id: result.id || Math.random().toString(36).substring(7),\r\n          case_name: result.case_name,\r\n          date: result.date,\r\n          type: 'scan_upload',\r\n          user: result.user || 'Unknown',\r\n          timeAgo: timeElapsed(result.date)\r\n        }));\r\n        \r\n        setRecentActivity(recentItems);\r\n        \r\n        // Calculate statistics\r\n        const scansWithNodules = await Promise.all(\r\n          data.map(async (result) => {\r\n            try {\r\n              const detailsResponse = await axios.get(`/api/results/${result.case_name}/details`);\r\n              const details = detailsResponse.data?.details || '';\r\n              // Simple text parsing to determine if nodules were found\r\n              const hasNodules = details && \r\n                !details.includes('No nodules detected') && \r\n                !details.includes('No detailed information available');\r\n              \r\n              // Count nodules by looking for \"Nodule X:\" patterns in the text\r\n              const noduleMatches = details.match(/Nodule \\d+:/g) || [];\r\n              const noduleCount = noduleMatches.length;\r\n              \r\n              return {\r\n                ...result,\r\n                hasNodules,\r\n                noduleCount,\r\n                hasDetails: !!details\r\n              };\r\n            } catch (error) {\r\n              console.error(`Error fetching details for ${result.case_name}:`, error);\r\n              // Return the result with default values even if details fail to load\r\n              return { \r\n                ...result, \r\n                hasNodules: false, \r\n                noduleCount: 0,\r\n                hasDetails: false,\r\n                error: true \r\n              };\r\n            }\r\n          })\r\n        );\r\n        \r\n        // Filter out results that had errors if needed\r\n        const validResults = scansWithNodules.filter(scan => !scan.error);\r\n        const validResultsCount = validResults.length;\r\n        \r\n        // Continue even if some scans had errors\r\n        const withNodules = scansWithNodules.filter(scan => scan.hasNodules);\r\n        const totalNodules = scansWithNodules.reduce((sum, scan) => sum + scan.noduleCount, 0);\r\n        const failedScans = scansWithNodules.filter(scan => scan.error).length;\r\n        \r\n        setStats({\r\n          totalScans: data.length,\r\n          scansWithNodules: withNodules.length,\r\n          totalNodules: totalNodules,\r\n          averageNodulesPerScan: validResultsCount > 0 ? (totalNodules / validResultsCount).toFixed(2) : 0,\r\n          failedScans: failedScans\r\n        });\r\n        \r\n        setIsLoading(false);\r\n      } catch (error) {\r\n        console.error('Error fetching results:', error);\r\n        \r\n        // Provide more specific error message based on the error\r\n        let errorMessage = 'Failed to load results data. Please try refreshing the page.';\r\n        if (error.response) {\r\n          // The request was made and the server responded with a status code\r\n          // that falls out of the range of 2xx\r\n          console.error('Error response data:', error.response.data);\r\n          errorMessage = `Server error: ${error.response.status}. Please try again later.`;\r\n        } else if (error.request) {\r\n          // The request was made but no response was received\r\n          errorMessage = 'No response from server. Please check your network connection.';\r\n        }\r\n        \r\n        setError(errorMessage);\r\n        \r\n        // Still set some empty results to allow partial dashboard rendering\r\n        setResults([]);\r\n        setStats({\r\n          totalScans: 0,\r\n          scansWithNodules: 0,\r\n          totalNodules: 0,\r\n          averageNodulesPerScan: 0,\r\n          failedScans: 0\r\n        });\r\n        \r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchResults();\r\n  }, []);\r\n\r\n  // Prepare data for the bar chart\r\n  const barChartData = {\r\n    labels: ['With Nodules', 'Without Nodules'],\r\n    datasets: [\r\n      {\r\n        label: 'CT Scans',\r\n        data: [stats.scansWithNodules, stats.totalScans - stats.scansWithNodules],\r\n        backgroundColor: ['rgba(79, 70, 229, 0.6)', 'rgba(209, 213, 219, 0.6)'],\r\n        borderColor: ['rgba(79, 70, 229, 1)', 'rgba(209, 213, 219, 1)'],\r\n        borderWidth: 1,\r\n      },\r\n    ],\r\n  };\r\n\r\n  // Prepare data for the pie chart\r\n  const pieChartData = {\r\n    labels: ['With Nodules', 'Without Nodules'],\r\n    datasets: [\r\n      {\r\n        data: [stats.scansWithNodules, stats.totalScans - stats.scansWithNodules],\r\n        backgroundColor: ['rgba(79, 70, 229, 0.6)', 'rgba(209, 213, 219, 0.6)'],\r\n        borderColor: ['rgba(79, 70, 229, 1)', 'rgba(209, 213, 219, 1)'],\r\n        borderWidth: 1,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const chartOptions = {\r\n    responsive: true,\r\n    plugins: {\r\n      legend: {\r\n        position: 'top',\r\n        labels: {\r\n          color: darkMode ? '#fff' : '#000',\r\n          font: {\r\n            size: 12\r\n          }\r\n        }\r\n      },\r\n      title: {\r\n        display: true,\r\n        text: 'Nodule Detection Results',\r\n        color: darkMode ? '#fff' : '#000',\r\n        font: {\r\n          size: 14,\r\n          weight: 'bold'\r\n        }\r\n      },\r\n    },\r\n    scales: {\r\n      y: {\r\n        beginAtZero: true,\r\n        ticks: {\r\n          precision: 0,\r\n          color: darkMode ? '#fff' : '#000',\r\n        },\r\n        grid: {\r\n          color: darkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)',\r\n        }\r\n      },\r\n      x: {\r\n        ticks: {\r\n          color: darkMode ? '#fff' : '#000',\r\n        },\r\n        grid: {\r\n          color: darkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)',\r\n        }\r\n      }\r\n    },\r\n  };\r\n\r\n  const pieChartOptions = {\r\n    responsive: true,\r\n    plugins: {\r\n      legend: {\r\n        position: 'bottom',\r\n        labels: {\r\n          color: darkMode ? '#fff' : '#000',\r\n          font: {\r\n            size: 12\r\n          }\r\n        }\r\n      },\r\n      title: {\r\n        display: true,\r\n        text: 'Scans Distribution',\r\n        color: darkMode ? '#fff' : '#000',\r\n        font: {\r\n          size: 14,\r\n          weight: 'bold'\r\n        }\r\n      },\r\n    },\r\n  };\r\n\r\n  // Quick action buttons for the dashboard\r\n  const quickActions = [\r\n    {\r\n      title: 'Upload New Scan',\r\n      icon: <CloudArrowUpIcon className=\"h-6 w-6\" />,\r\n      link: '/upload',\r\n      primary: true,\r\n      description: 'Upload a new CT scan for analysis'\r\n    },\r\n    {\r\n      title: 'View All Results',\r\n      icon: <DocumentTextIcon className=\"h-6 w-6\" />,\r\n      link: '/results',\r\n      primary: false,\r\n      description: 'Browse through all previous scan results'\r\n    },\r\n    {\r\n      title: 'User Settings',\r\n      icon: <UserGroupIcon className=\"h-6 w-6\" />,\r\n      link: '/settings',\r\n      primary: false,\r\n      description: 'Manage user account settings'\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className={`space-y-6 ${darkMode ? 'text-white' : ''}`}>\r\n      <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4\">\r\n        <div>\r\n          <h1 className={`text-2xl font-semibold ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n            Welcome to PulmoScan, {user?.username || 'User'}\r\n          </h1>\r\n          <p className={`text-sm mt-1 ${darkMode ? 'text-gray-300' : 'text-gray-500'}`}>\r\n            Here's your dashboard overview of lung nodule detection activity\r\n          </p>\r\n        </div>\r\n        <div className=\"flex gap-3\">\r\n          {quickActions.map((action, index) => (\r\n            <Link \r\n              key={index} \r\n              to={action.link} \r\n              className={`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${\r\n                action.primary\r\n                  ? 'bg-indigo-600 text-white hover:bg-indigo-700'\r\n                  : darkMode\r\n                    ? 'bg-gray-700 text-white hover:bg-gray-600'\r\n                    : 'bg-white text-gray-700 hover:bg-gray-50 border border-gray-300'\r\n              }`}\r\n            >\r\n              <span className=\"mr-2\">{action.icon}</span>\r\n              {action.title}\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {isLoading ? (\r\n        <div className=\"text-center py-12\">\r\n          <div className=\"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-indigo-600 border-r-transparent\"></div>\r\n          <p className={`mt-4 ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>Loading dashboard data...</p>\r\n        </div>\r\n      ) : error ? (\r\n        <div className={`${darkMode ? 'bg-red-900' : 'bg-red-50'} p-4 rounded-md`}>\r\n          <div className=\"flex\">\r\n            <ExclamationCircleIcon className={`h-5 w-5 ${darkMode ? 'text-red-300' : 'text-red-400'}`} aria-hidden=\"true\" />\r\n            <div className=\"ml-3\">\r\n              <h3 className={`text-sm font-medium ${darkMode ? 'text-red-100' : 'text-red-800'}`}>{error}</h3>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {/* Stats Cards */}\r\n          <div className=\"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4\">\r\n            <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} overflow-hidden shadow rounded-lg transition-transform duration-300 hover:shadow-lg transform hover:-translate-y-1`}>\r\n              <div className=\"px-4 py-5 sm:p-6\">\r\n                <div className=\"flex items-center\">\r\n                  <div className=\"flex-shrink-0 bg-indigo-500 rounded-md p-3\">\r\n                    <DocumentTextIcon className=\"h-6 w-6 text-white\" aria-hidden=\"true\" />\r\n                  </div>\r\n                  <div className=\"ml-5 w-0 flex-1\">\r\n                    <dl>\r\n                      <dt className={`text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-500'} truncate`}>Total Scans</dt>\r\n                      <dd className={`text-3xl font-semibold ${darkMode ? 'text-white' : 'text-gray-900'}`}>{stats.totalScans}</dd>\r\n                    </dl>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className={`px-4 py-4 sm:px-6 ${darkMode ? 'bg-gray-700/50' : 'bg-gray-50'}`}>\r\n                <div className=\"text-sm flex justify-between items-center\">\r\n                  <Link to=\"/results\" className={`font-medium ${darkMode ? 'text-indigo-400 hover:text-indigo-300' : 'text-indigo-600 hover:text-indigo-700'}`}>\r\n                    View all\r\n                  </Link>\r\n                  <span className={darkMode ? 'text-gray-300' : 'text-gray-500'}>\r\n                    <CalendarIcon className=\"inline-block h-4 w-4 mr-1\" />\r\n                    All time\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} overflow-hidden shadow rounded-lg transition-transform duration-300 hover:shadow-lg transform hover:-translate-y-1`}>\r\n              <div className=\"px-4 py-5 sm:p-6\">\r\n                <div className=\"flex items-center\">\r\n                  <div className=\"flex-shrink-0 bg-green-500 rounded-md p-3\">\r\n                    <DocumentTextIcon className=\"h-6 w-6 text-white\" aria-hidden=\"true\" />\r\n                  </div>\r\n                  <div className=\"ml-5 w-0 flex-1\">\r\n                    <dl>\r\n                      <dt className={`text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-500'} truncate`}>Scans With Nodules</dt>\r\n                      <dd className={`text-3xl font-semibold ${darkMode ? 'text-white' : 'text-gray-900'}`}>{stats.scansWithNodules}</dd>\r\n                    </dl>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className={`px-4 py-4 sm:px-6 ${darkMode ? 'bg-gray-700/50' : 'bg-gray-50'}`}>\r\n                <div className=\"text-sm flex justify-between items-center\">\r\n                  <div className={`font-medium ${stats.scansWithNodules > 0 ? (darkMode ? 'text-green-400' : 'text-green-600') : (darkMode ? 'text-gray-400' : 'text-gray-500')}`}>\r\n                    {stats.scansWithNodules > 0 ? `${((stats.scansWithNodules / stats.totalScans) * 100).toFixed(1)}% of total` : 'No nodules detected'}\r\n                  </div>\r\n                  <span className={darkMode ? 'text-gray-300' : 'text-gray-500'}>\r\n                    <ChartPieIcon className=\"inline-block h-4 w-4 mr-1\" />\r\n                    Statistics\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} overflow-hidden shadow rounded-lg transition-transform duration-300 hover:shadow-lg transform hover:-translate-y-1`}>\r\n              <div className=\"px-4 py-5 sm:p-6\">\r\n                <div className=\"flex items-center\">\r\n                  <div className=\"flex-shrink-0 bg-yellow-500 rounded-md p-3\">\r\n                    <DocumentTextIcon className=\"h-6 w-6 text-white\" aria-hidden=\"true\" />\r\n                  </div>\r\n                  <div className=\"ml-5 w-0 flex-1\">\r\n                    <dl>\r\n                      <dt className={`text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-500'} truncate`}>Total Nodules Detected</dt>\r\n                      <dd className={`text-3xl font-semibold ${darkMode ? 'text-white' : 'text-gray-900'}`}>{stats.totalNodules}</dd>\r\n                    </dl>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className={`px-4 py-4 sm:px-6 ${darkMode ? 'bg-gray-700/50' : 'bg-gray-50'}`}>\r\n                <div className=\"text-sm flex justify-between items-center\">\r\n                  <div className={`font-medium ${darkMode ? 'text-yellow-400' : 'text-yellow-600'}`}>\r\n                    {stats.averageNodulesPerScan} avg per scan\r\n                  </div>\r\n                  <span className={darkMode ? 'text-gray-300' : 'text-gray-500'}>\r\n                    <CalendarIcon className=\"inline-block h-4 w-4 mr-1\" />\r\n                    All time\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} overflow-hidden shadow rounded-lg transition-transform duration-300 hover:shadow-lg transform hover:-translate-y-1`}>\r\n              <div className=\"px-4 py-5 sm:p-6\">\r\n                <div className=\"flex items-center\">\r\n                  <div className=\"flex-shrink-0 bg-indigo-500 rounded-md p-3\">\r\n                    <UserGroupIcon className=\"h-6 w-6 text-white\" aria-hidden=\"true\" />\r\n                  </div>\r\n                  <div className=\"ml-5 w-0 flex-1\">\r\n                    <dl>\r\n                      <dt className={`text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-500'} truncate`}>Role</dt>\r\n                      <dd className={`text-3xl font-semibold ${darkMode ? 'text-white' : 'text-gray-900'}`}>{(user?.role || '').charAt(0).toUpperCase() + (user?.role || '').slice(1)}</dd>\r\n                    </dl>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className={`px-4 py-4 sm:px-6 ${darkMode ? 'bg-gray-700/50' : 'bg-gray-50'}`}>\r\n                <div className=\"text-sm flex justify-between items-center\">\r\n                  <Link to=\"/settings\" className={`font-medium ${darkMode ? 'text-indigo-400 hover:text-indigo-300' : 'text-indigo-600 hover:text-indigo-700'}`}>\r\n                    Account Settings\r\n                  </Link>\r\n                  <span className={darkMode ? 'text-gray-300' : 'text-gray-500'}>\r\n                    {user?.username || 'User'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Charts and Recent Activity */}\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-5 mt-6\">\r\n            <div className={`lg:col-span-2 ${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-lg shadow p-5`}>\r\n              <h2 className={`text-lg font-medium mb-4 ${darkMode ? 'text-white' : 'text-gray-900'}`}>Nodule Detection Results</h2>\r\n              {stats.totalScans > 0 ? (\r\n                <div className=\"h-64\">\r\n                  <Bar data={barChartData} options={chartOptions} />\r\n                </div>\r\n              ) : (\r\n                <div className={`flex flex-col items-center justify-center h-64 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                  <ChartPieIcon className=\"h-16 w-16 mb-4 opacity-50\" />\r\n                  <p className=\"text-lg font-medium\">No scan data available</p>\r\n                  <p className=\"text-sm mt-2\">Upload your first scan to see results</p>\r\n                  <Link to=\"/upload\" className=\"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md text-sm font-medium hover:bg-indigo-700 transition-colors\">\r\n                    Upload Now\r\n                  </Link>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-lg shadow p-5`}>\r\n              <h2 className={`text-lg font-medium mb-4 ${darkMode ? 'text-white' : 'text-gray-900'}`}>Recent Activity</h2>\r\n              \r\n              {recentActivity.length > 0 ? (\r\n                <div className=\"space-y-4\">\r\n                  {recentActivity.map((activity, index) => (\r\n                    <div \r\n                      key={activity.id || index} \r\n                      className={`flex items-start p-3 rounded-lg ${darkMode ? 'bg-gray-700 hover:bg-gray-700/80' : 'bg-gray-50 hover:bg-gray-100'} transition-colors`}\r\n                    >\r\n                      <div className={`flex-shrink-0 rounded-full p-2 ${darkMode ? 'bg-gray-600' : 'bg-gray-200'}`}>\r\n                        <ClockIcon className={`h-5 w-5 ${darkMode ? 'text-indigo-400' : 'text-indigo-500'}`} />\r\n                      </div>\r\n                      <div className=\"ml-3 flex-1\">\r\n                        <div className=\"flex justify-between\">\r\n                          <p className={`text-sm font-medium ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                            <Link to={`/results/${activity.case_name}`} className=\"hover:underline\">\r\n                              {activity.case_name}\r\n                            </Link>\r\n                          </p>\r\n                          <span className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>{activity.timeAgo}</span>\r\n                        </div>\r\n                        <p className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                          Uploaded by {activity.user}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                  <div className=\"text-center mt-4\">\r\n                    <Link to=\"/results\" className={`text-sm font-medium ${darkMode ? 'text-indigo-400 hover:text-indigo-300' : 'text-indigo-600 hover:text-indigo-700'}`}>\r\n                      View all activity →\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className={`flex flex-col items-center justify-center h-64 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                  <ClockIcon className=\"h-12 w-12 mb-3 opacity-50\" />\r\n                  <p className=\"text-base font-medium\">No recent activity</p>\r\n                  <p className=\"text-sm mt-1\">Your activity will appear here</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Quick Actions Section */}\r\n          <div className={`mt-8 ${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-lg shadow p-5`}>\r\n            <h2 className={`text-lg font-medium mb-4 ${darkMode ? 'text-white' : 'text-gray-900'}`}>Quick Actions</h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-5\">\r\n              {quickActions.map((action, index) => (\r\n                <Link\r\n                  key={index}\r\n                  to={action.link}\r\n                  className={`flex flex-col items-center justify-center p-6 rounded-lg transition-all transform hover:scale-102 ${\r\n                    action.primary\r\n                      ? 'bg-indigo-600 text-white hover:bg-indigo-700'\r\n                      : darkMode\r\n                        ? 'bg-gray-700 text-white hover:bg-gray-700/80'\r\n                        : 'bg-gray-50 text-gray-700 hover:bg-gray-100'\r\n                  }`}\r\n                >\r\n                  <div className={`rounded-full p-4 mb-3 ${\r\n                    action.primary\r\n                      ? 'bg-indigo-500'\r\n                      : darkMode\r\n                        ? 'bg-gray-600'\r\n                        : 'bg-white'\r\n                  }`}>\r\n                    {action.icon}\r\n                  </div>\r\n                  <h3 className=\"text-lg font-medium mb-1\">{action.title}</h3>\r\n                  <p className={`text-sm text-center ${\r\n                    action.primary\r\n                      ? 'text-indigo-100'\r\n                      : darkMode\r\n                        ? 'text-gray-300'\r\n                        : 'text-gray-500'\r\n                  }`}>\r\n                    {action.description}\r\n                  </p>\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}