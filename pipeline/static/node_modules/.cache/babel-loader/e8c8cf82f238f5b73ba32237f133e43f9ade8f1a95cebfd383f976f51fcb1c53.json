{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kouss\\\\Desktop\\\\Cursor\\\\Segmentation\\\\pipeline\\\\webapp\\\\static\\\\src\\\\pages\\\\SettingsPage.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useTheme } from '../contexts/ThemeContext';\nimport { MoonIcon, SunIcon, PencilIcon, CheckIcon, XMarkIcon, ExclamationCircleIcon, QuestionMarkCircleIcon, ChevronDownIcon, ChevronUpIcon } from '@heroicons/react/24/outline';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\n// Create a context for background settings\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const BackgroundContext = /*#__PURE__*/React.createContext({\n  backgroundVariant: 'default',\n  setBackgroundVariant: () => {}\n});\n\n// Add this somewhere at the top level of your app (e.g., in App.js or a new context file)\nexport const BackgroundProvider = ({\n  children\n}) => {\n  _s();\n  const [backgroundVariant, setBackgroundVariant] = useState(localStorage.getItem('backgroundVariant') || 'default');\n\n  // Save to localStorage when changed\n  useEffect(() => {\n    localStorage.setItem('backgroundVariant', backgroundVariant);\n  }, [backgroundVariant]);\n  return /*#__PURE__*/_jsxDEV(BackgroundContext.Provider, {\n    value: {\n      backgroundVariant,\n      setBackgroundVariant\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n};\n_s(BackgroundProvider, \"akECx+bVmDJEDfwfl3VwlzRru2g=\");\n_c = BackgroundProvider;\nconst SettingsPage = () => {\n  _s2();\n  const {\n    user,\n    login,\n    logout,\n    updateUserContext\n  } = useAuth();\n  const {\n    darkMode,\n    toggleDarkMode\n  } = useTheme();\n  const [notifications, setNotifications] = useState(true);\n  const [emailUpdates, setEmailUpdates] = useState(true);\n  const [successMessage, setSuccessMessage] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [passwordStrength, setPasswordStrength] = useState(0);\n  const [expandedFaqIndex, setExpandedFaqIndex] = useState(null);\n  const navigate = useNavigate();\n  const [activeTab, setActiveTab] = useState('general');\n  const [backgroundVariant, setBackgroundVariant] = useState(localStorage.getItem('backgroundVariant') || 'default');\n\n  // Profile state\n  const [profile, setProfile] = useState({\n    username: (user === null || user === void 0 ? void 0 : user.username) || '',\n    email: (user === null || user === void 0 ? void 0 : user.email) || '',\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: '',\n    firstName: (user === null || user === void 0 ? void 0 : user.firstName) || '',\n    lastName: (user === null || user === void 0 ? void 0 : user.lastName) || ''\n  });\n\n  // Setup profile from user context when it changes\n  useEffect(() => {\n    if (user) {\n      setProfile(prevProfile => ({\n        ...prevProfile,\n        username: user.username || '',\n        email: user.email || '',\n        firstName: user.firstName || '',\n        lastName: user.lastName || ''\n      }));\n    }\n  }, [user]);\n\n  // Password strength checker\n  useEffect(() => {\n    if (!profile.newPassword) {\n      setPasswordStrength(0);\n      return;\n    }\n\n    // Calculate password strength\n    let strength = 0;\n\n    // Length check\n    if (profile.newPassword.length >= 8) strength += 1;\n\n    // Contains uppercase\n    if (/[A-Z]/.test(profile.newPassword)) strength += 1;\n\n    // Contains lowercase\n    if (/[a-z]/.test(profile.newPassword)) strength += 1;\n\n    // Contains number\n    if (/[0-9]/.test(profile.newPassword)) strength += 1;\n\n    // Contains special character\n    if (/[^A-Za-z0-9]/.test(profile.newPassword)) strength += 1;\n    setPasswordStrength(strength);\n  }, [profile.newPassword]);\n  const resetForm = () => {\n    setProfile({\n      username: (user === null || user === void 0 ? void 0 : user.username) || '',\n      email: (user === null || user === void 0 ? void 0 : user.email) || '',\n      currentPassword: '',\n      newPassword: '',\n      confirmPassword: '',\n      firstName: (user === null || user === void 0 ? void 0 : user.firstName) || '',\n      lastName: (user === null || user === void 0 ? void 0 : user.lastName) || ''\n    });\n    setIsEditMode(false);\n  };\n  const handleProfileChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setProfile(prevProfile => ({\n      ...prevProfile,\n      [name]: value\n    }));\n  };\n  const validateForm = () => {\n    // Check if passwords match if user is changing password\n    if (profile.newPassword) {\n      if (!profile.currentPassword) {\n        setErrorMessage('Current password is required to set a new password');\n        return false;\n      }\n      if (profile.newPassword !== profile.confirmPassword) {\n        setErrorMessage('New passwords do not match');\n        return false;\n      }\n      if (profile.newPassword.length < 6) {\n        setErrorMessage('New password must be at least 6 characters');\n        return false;\n      }\n    }\n\n    // Validate username\n    if (!profile.username || profile.username.length < 3) {\n      setErrorMessage('Username must be at least 3 characters');\n      return false;\n    }\n\n    // Validate email format\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (profile.email && !emailRegex.test(profile.email)) {\n      setErrorMessage('Please enter a valid email address');\n      return false;\n    }\n    return true;\n  };\n\n  // FAQs data\n  const faqs = [{\n    question: \"How do I change my password?\",\n    answer: \"To change your password, click the 'Edit Profile' button, enter your current password and choose a new one. For security, passwords should be at least 8 characters long with a mix of letters, numbers, and special characters.\"\n  }, {\n    question: \"What happens if I change my username?\",\n    answer: \"If you change your username, you'll be automatically logged out and redirected to the login page. You'll need to log in with your new username but using the same password.\"\n  }, {\n    question: \"Can I delete my account?\",\n    answer: \"Account deletion is handled by administrators. Please contact your system administrator if you need to delete your account or remove your data from the system.\"\n  }, {\n    question: \"How secure is my medical data?\",\n    answer: \"All medical data is stored securely and encrypted. We follow industry best practices to ensure your data remains private and is only accessible to authorized personnel.\"\n  }];\n  const toggleFaq = index => {\n    if (expandedFaqIndex === index) {\n      setExpandedFaqIndex(null);\n    } else {\n      setExpandedFaqIndex(index);\n    }\n  };\n  const updateUserProfile = async () => {\n    if (!validateForm()) {\n      return;\n    }\n    setIsLoading(true);\n    setErrorMessage('');\n    try {\n      // Create update payload\n      const updateData = {\n        username: profile.username,\n        email: profile.email,\n        first_name: profile.firstName,\n        last_name: profile.lastName\n      };\n\n      // Only include password fields if user is changing password\n      if (profile.newPassword) {\n        updateData.current_password = profile.currentPassword;\n        updateData.password = profile.newPassword;\n      }\n      console.log('Sending profile update with data:', updateData);\n\n      // Call API to update user profile\n      const response = await axios.put(`/api/users/${user.username}`, updateData);\n      if (response.data.success) {\n        console.log('Profile update successful. Server response:', response.data);\n\n        // Check if username changed or password changed\n        const usernameChanged = profile.username !== user.username;\n        const passwordChanged = profile.newPassword && profile.newPassword.length > 0;\n\n        // Username changes require logout and re-login (authentication token is tied to username)\n        if (usernameChanged) {\n          console.log('Username changed, will need to re-login');\n          setSuccessMessage('Username changed successfully! Please login with your new username.');\n\n          // Store new username in session storage so login page can prefill it\n          sessionStorage.setItem('pendingUsername', profile.username);\n\n          // Delayed logout after message is shown\n          setTimeout(() => {\n            logout();\n            navigate('/login');\n          }, 3000);\n\n          // Return early to prevent additional logic\n          return;\n        }\n\n        // Handle password change - try silent reauthentication if possible\n        if (passwordChanged) {\n          console.log('Password changed, attempting silent reauthentication');\n          try {\n            // Silent re-login attempt with new password\n            const loginResponse = await login(user.username, profile.newPassword);\n            if (loginResponse.success) {\n              setSuccessMessage('Profile updated successfully!');\n              console.log('Silent re-authentication successful');\n            } else {\n              // This is unlikely to happen - if the profile update worked but re-login failed\n              console.warn('Silent re-authentication failed after successful password change');\n              setSuccessMessage('Profile updated successfully!');\n            }\n          } catch (loginError) {\n            console.error('Error during silent re-authentication:', loginError);\n            // Even if silent re-auth fails, profile was still updated\n            setSuccessMessage('Profile updated successfully!');\n          }\n        } else {\n          // Just a regular profile update (no credentials changed)\n          console.log('Regular profile update, no credential changes');\n          setSuccessMessage('Profile updated successfully!');\n        }\n\n        // For all changes except username change, update the user context\n        updateUserContext({\n          firstName: profile.firstName,\n          lastName: profile.lastName,\n          email: profile.email\n        });\n        console.log('User context updated with new profile information');\n\n        // Exit edit mode\n        setIsEditMode(false);\n\n        // Clear the success message after 3 seconds for normal updates\n        setTimeout(() => {\n          setSuccessMessage('');\n        }, 3000);\n      }\n    } catch (error) {\n      var _error$response, _error$response2, _error$response3, _error$response3$data;\n      console.error('Error updating profile:', error);\n\n      // Handle error response and show appropriate message\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n        setErrorMessage('Current password is incorrect. Please try again.');\n      } else if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 403) {\n        setErrorMessage('Unauthorized. You do not have permission to update this profile.');\n      } else if ((_error$response3 = error.response) !== null && _error$response3 !== void 0 && (_error$response3$data = _error$response3.data) !== null && _error$response3$data !== void 0 && _error$response3$data.message) {\n        setErrorMessage(error.response.data.message);\n      } else {\n        setErrorMessage('Failed to update profile. Please try again later.');\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Helper for password strength indicator\n  const getPasswordStrengthLabel = () => {\n    if (!profile.newPassword) return '';\n    const labels = ['Very Weak', 'Weak', 'Moderate', 'Strong', 'Very Strong'];\n    return labels[Math.min(passwordStrength, 4)];\n  };\n  const getPasswordStrengthColor = () => {\n    if (!profile.newPassword) return 'bg-gray-200';\n    const colors = ['bg-red-500',\n    // Very Weak\n    'bg-orange-500',\n    // Weak\n    'bg-yellow-500',\n    // Moderate\n    'bg-green-400',\n    // Strong\n    'bg-green-500' // Very Strong\n    ];\n    return colors[Math.min(passwordStrength, 4)];\n  };\n\n  // Function to handle background variant change\n  const handleBackgroundChange = variant => {\n    setBackgroundVariant(variant);\n    localStorage.setItem('backgroundVariant', variant);\n    // You might want to dispatch an event or use context to update this globally\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `max-w-4xl mx-auto ${darkMode ? 'text-white' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: `text-2xl font-semibold mb-6 ${darkMode ? 'text-white' : 'text-gray-900'}`,\n      children: \"Settings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }, this), successMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${darkMode ? 'bg-green-900/50 border-green-700' : 'bg-green-50 border-green-200'} border rounded-md p-4 mb-6`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-shrink-0\",\n          children: /*#__PURE__*/_jsxDEV(CheckIcon, {\n            className: `h-5 w-5 ${darkMode ? 'text-green-300' : 'text-green-400'}`,\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-3\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `text-sm font-medium ${darkMode ? 'text-green-300' : 'text-green-800'}`,\n            children: successMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 9\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${darkMode ? 'bg-red-900/50 border-red-700' : 'bg-red-50 border-red-200'} border rounded-md p-4 mb-6`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-shrink-0\",\n          children: /*#__PURE__*/_jsxDEV(ExclamationCircleIcon, {\n            className: `h-5 w-5 ${darkMode ? 'text-red-300' : 'text-red-400'}`,\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-3\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `text-sm font-medium ${darkMode ? 'text-red-300' : 'text-red-800'}`,\n            children: errorMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${darkMode ? 'bg-gray-800' : 'bg-white'} shadow sm:rounded-lg`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-5 sm:p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: `text-lg leading-6 font-medium ${darkMode ? 'text-white' : 'text-gray-900'}`,\n              children: \"Profile Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: !isEditMode ? /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setIsEditMode(true),\n                className: `flex items-center px-3 py-1.5 rounded-md ${darkMode ? 'bg-gray-700 hover:bg-gray-600 text-white' : 'bg-gray-100 hover:bg-gray-200 text-gray-700'}`,\n                children: [/*#__PURE__*/_jsxDEV(PencilIcon, {\n                  className: \"h-4 w-4 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 21\n                }, this), \"Edit Profile\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: resetForm,\n                  className: `flex items-center px-3 py-1.5 rounded-md ${darkMode ? 'bg-gray-700 hover:bg-gray-600 text-white' : 'bg-gray-100 hover:bg-gray-200 text-gray-700'}`,\n                  disabled: isLoading,\n                  children: [/*#__PURE__*/_jsxDEV(XMarkIcon, {\n                    className: \"h-4 w-4 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 382,\n                    columnNumber: 23\n                  }, this), \"Cancel\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: updateUserProfile,\n                  className: `flex items-center px-3 py-1.5 rounded-md bg-indigo-600 hover:bg-indigo-700 text-white`,\n                  disabled: isLoading,\n                  children: [isLoading ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"animate-spin h-4 w-4 mr-1 text-white\",\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    fill: \"none\",\n                    viewBox: \"0 0 24 24\",\n                    children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                      className: \"opacity-25\",\n                      cx: \"12\",\n                      cy: \"12\",\n                      r: \"10\",\n                      stroke: \"currentColor\",\n                      strokeWidth: \"4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 392,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                      className: \"opacity-75\",\n                      fill: \"currentColor\",\n                      d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 393,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(CheckIcon, {\n                    className: \"h-4 w-4 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 396,\n                    columnNumber: 25\n                  }, this), \"Save Changes\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-5 space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 gap-4 sm:grid-cols-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"username\",\n                  className: `block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Username\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 409,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"username\",\n                  id: \"username\",\n                  value: profile.username,\n                  onChange: handleProfileChange,\n                  disabled: !isEditMode,\n                  className: `mt-1 block w-full py-2 px-3 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${!isEditMode ? darkMode ? 'bg-gray-600' : 'bg-gray-100' : ''}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 19\n                }, this), isEditMode && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: `mt-1 text-xs ${darkMode ? 'text-yellow-300' : 'text-yellow-600'}`,\n                  children: \"Changing your username will require you to log in again\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"email\",\n                  className: `block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  name: \"email\",\n                  id: \"email\",\n                  value: profile.email,\n                  onChange: handleProfileChange,\n                  disabled: !isEditMode,\n                  className: `mt-1 block w-full py-2 px-3 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${!isEditMode ? darkMode ? 'bg-gray-600' : 'bg-gray-100' : ''}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"firstName\",\n                  className: `block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"First Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"firstName\",\n                  id: \"firstName\",\n                  value: profile.firstName,\n                  onChange: handleProfileChange,\n                  disabled: !isEditMode,\n                  className: `mt-1 block w-full py-2 px-3 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${!isEditMode ? darkMode ? 'bg-gray-600' : 'bg-gray-100' : ''}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"lastName\",\n                  className: `block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Last Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"lastName\",\n                  id: \"lastName\",\n                  value: profile.lastName,\n                  onChange: handleProfileChange,\n                  disabled: !isEditMode,\n                  className: `mt-1 block w-full py-2 px-3 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${!isEditMode ? darkMode ? 'bg-gray-600' : 'bg-gray-100' : ''}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 15\n            }, this), isEditMode && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: `text-sm font-medium mb-3 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`,\n                children: \"Change Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 gap-4 sm:grid-cols-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"currentPassword\",\n                    className: `block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                    children: \"Current Password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 480,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"password\",\n                    name: \"currentPassword\",\n                    id: \"currentPassword\",\n                    value: profile.currentPassword,\n                    onChange: handleProfileChange,\n                    className: `mt-1 block w-full py-2 px-3 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 483,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"newPassword\",\n                    className: `block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                    children: \"New Password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 494,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"password\",\n                    name: \"newPassword\",\n                    id: \"newPassword\",\n                    value: profile.newPassword,\n                    onChange: handleProfileChange,\n                    className: `mt-1 block w-full py-2 px-3 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 497,\n                    columnNumber: 23\n                  }, this), profile.newPassword && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-full bg-gray-200 rounded-full h-2.5\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `h-2.5 rounded-full ${getPasswordStrengthColor()}`,\n                        style: {\n                          width: `${passwordStrength / 5 * 100}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 508,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 507,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: `text-xs mt-1 ${darkMode ? 'text-gray-300' : 'text-gray-600'}`,\n                      children: [\"Password strength: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `font-medium ${passwordStrength >= 3 ? darkMode ? 'text-green-300' : 'text-green-600' : darkMode ? 'text-yellow-300' : 'text-yellow-600'}`,\n                        children: getPasswordStrengthLabel()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 511,\n                        columnNumber: 48\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 510,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 506,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 493,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"confirmPassword\",\n                    className: `block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                    children: \"Confirm New Password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 518,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"password\",\n                    name: \"confirmPassword\",\n                    id: \"confirmPassword\",\n                    value: profile.confirmPassword,\n                    onChange: handleProfileChange,\n                    className: `mt-1 block w-full py-2 px-3 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 521,\n                    columnNumber: 23\n                  }, this), profile.newPassword && profile.confirmPassword && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: `mt-1 text-xs ${profile.newPassword === profile.confirmPassword ? darkMode ? 'text-green-300' : 'text-green-600' : darkMode ? 'text-red-300' : 'text-red-600'}`,\n                    children: profile.newPassword === profile.confirmPassword ? 'Passwords match ✓' : 'Passwords do not match ✗'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 530,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 517,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${darkMode ? 'bg-gray-800' : 'bg-white'} shadow sm:rounded-lg`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-5 sm:p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: `text-lg leading-6 font-medium ${darkMode ? 'text-white' : 'text-gray-900'}`,\n            children: \"Appearance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: `text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'}`,\n              children: \"Dark Mode\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: toggleDarkMode,\n              className: `relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none ${darkMode ? 'bg-indigo-600' : 'bg-gray-300'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"sr-only\",\n                children: \"Toggle dark mode\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `${darkMode ? 'translate-x-6 bg-white text-indigo-600' : 'translate-x-1 bg-white text-gray-400'} inline-block w-4 h-4 transform rounded-full transition-transform relative`,\n                children: darkMode ? /*#__PURE__*/_jsxDEV(MoonIcon, {\n                  className: \"h-3 w-3 absolute top-0.5 left-0.5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 563,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(SunIcon, {\n                  className: \"h-3 w-3 absolute top-0.5 left-0.5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 565,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 557,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${darkMode ? 'bg-gray-800' : 'bg-white'} shadow sm:rounded-lg`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-5 sm:p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: `text-lg leading-6 font-medium ${darkMode ? 'text-white' : 'text-gray-900'}`,\n            children: \"Notification Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: `text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                children: \"System Notifications\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 581,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setNotifications(!notifications),\n                className: `relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none ${notifications ? 'bg-indigo-600' : 'bg-gray-300'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sr-only\",\n                  children: \"Toggle notifications\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 588,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `${notifications ? 'translate-x-6' : 'translate-x-1'} inline-block w-4 h-4 transform bg-white rounded-full transition-transform`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 589,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: `text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                children: \"Email Updates\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 597,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setEmailUpdates(!emailUpdates),\n                className: `relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none ${emailUpdates ? 'bg-indigo-600' : 'bg-gray-300'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sr-only\",\n                  children: \"Toggle email updates\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 604,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `${emailUpdates ? 'translate-x-6' : 'translate-x-1'} inline-block w-4 h-4 transform bg-white rounded-full transition-transform`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 605,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 600,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `mt-8 ${darkMode ? 'bg-gray-800' : 'bg-white'} shadow sm:rounded-lg`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-5 sm:p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: `text-lg leading-6 font-medium ${darkMode ? 'text-white' : 'text-gray-900'}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(QuestionMarkCircleIcon, {\n              className: \"h-5 w-5 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 622,\n              columnNumber: 15\n            }, this), \"Frequently Asked Questions\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 621,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 620,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 space-y-4\",\n          children: faqs.map((faq, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `overflow-hidden ${darkMode ? 'bg-gray-700' : 'bg-gray-50'} rounded-lg transition-all duration-200`,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => toggleFaq(index),\n              className: `w-full px-4 py-3 text-left ${darkMode ? 'hover:bg-gray-600' : 'hover:bg-gray-100'} flex justify-between items-center`,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: `font-medium ${darkMode ? 'text-white' : 'text-gray-900'}`,\n                children: faq.question\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 637,\n                columnNumber: 19\n              }, this), expandedFaqIndex === index ? /*#__PURE__*/_jsxDEV(ChevronUpIcon, {\n                className: \"h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 641,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(ChevronDownIcon, {\n                className: \"h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 633,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `transition-all duration-300 ease-in-out overflow-hidden ${expandedFaqIndex === index ? 'max-h-40 opacity-100' : 'max-h-0 opacity-0'}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `px-4 pb-3 text-sm ${darkMode ? 'text-gray-300' : 'text-gray-600'}`,\n                children: faq.answer\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 652,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 627,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 619,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 618,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 327,\n    columnNumber: 5\n  }, this);\n};\n_s2(SettingsPage, \"K7ZfqlJZD1tY72imDu9TsDheKaE=\", false, function () {\n  return [useAuth, useTheme, useNavigate];\n});\n_c2 = SettingsPage;\nexport default SettingsPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"BackgroundProvider\");\n$RefreshReg$(_c2, \"SettingsPage\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","useTheme","MoonIcon","SunIcon","PencilIcon","CheckIcon","XMarkIcon","ExclamationCircleIcon","QuestionMarkCircleIcon","ChevronDownIcon","ChevronUpIcon","axios","useNavigate","jsxDEV","_jsxDEV","BackgroundContext","createContext","backgroundVariant","setBackgroundVariant","BackgroundProvider","children","_s","localStorage","getItem","setItem","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","SettingsPage","_s2","user","login","logout","updateUserContext","darkMode","toggleDarkMode","notifications","setNotifications","emailUpdates","setEmailUpdates","successMessage","setSuccessMessage","errorMessage","setErrorMessage","isLoading","setIsLoading","isEditMode","setIsEditMode","passwordStrength","setPasswordStrength","expandedFaqIndex","setExpandedFaqIndex","navigate","activeTab","setActiveTab","profile","setProfile","username","email","currentPassword","newPassword","confirmPassword","firstName","lastName","prevProfile","strength","length","test","resetForm","handleProfileChange","e","name","target","validateForm","emailRegex","faqs","question","answer","toggleFaq","index","updateUserProfile","updateData","first_name","last_name","current_password","password","console","log","response","put","data","success","usernameChanged","passwordChanged","sessionStorage","setTimeout","loginResponse","warn","loginError","error","_error$response","_error$response2","_error$response3","_error$response3$data","status","message","getPasswordStrengthLabel","labels","Math","min","getPasswordStrengthColor","colors","handleBackgroundChange","variant","className","onClick","disabled","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","htmlFor","type","id","onChange","style","width","map","faq","_c2","$RefreshReg$"],"sources":["C:/Users/kouss/Desktop/Cursor/Segmentation/pipeline/webapp/static/src/pages/SettingsPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useTheme } from '../contexts/ThemeContext';\r\nimport { MoonIcon, SunIcon, PencilIcon, CheckIcon, XMarkIcon, ExclamationCircleIcon, QuestionMarkCircleIcon, ChevronDownIcon, ChevronUpIcon } from '@heroicons/react/24/outline';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n// Create a context for background settings\r\nexport const BackgroundContext = React.createContext({\r\n  backgroundVariant: 'default',\r\n  setBackgroundVariant: () => {},\r\n});\r\n\r\n// Add this somewhere at the top level of your app (e.g., in App.js or a new context file)\r\nexport const BackgroundProvider = ({ children }) => {\r\n  const [backgroundVariant, setBackgroundVariant] = useState(\r\n    localStorage.getItem('backgroundVariant') || 'default'\r\n  );\r\n  \r\n  // Save to localStorage when changed\r\n  useEffect(() => {\r\n    localStorage.setItem('backgroundVariant', backgroundVariant);\r\n  }, [backgroundVariant]);\r\n  \r\n  return (\r\n    <BackgroundContext.Provider value={{ backgroundVariant, setBackgroundVariant }}>\r\n      {children}\r\n    </BackgroundContext.Provider>\r\n  );\r\n};\r\n\r\nconst SettingsPage = () => {\r\n  const { user, login, logout, updateUserContext } = useAuth();\r\n  const { darkMode, toggleDarkMode } = useTheme();\r\n  const [notifications, setNotifications] = useState(true);\r\n  const [emailUpdates, setEmailUpdates] = useState(true);\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isEditMode, setIsEditMode] = useState(false);\r\n  const [passwordStrength, setPasswordStrength] = useState(0);\r\n  const [expandedFaqIndex, setExpandedFaqIndex] = useState(null);\r\n  const navigate = useNavigate();\r\n  const [activeTab, setActiveTab] = useState('general');\r\n  const [backgroundVariant, setBackgroundVariant] = useState(\r\n    localStorage.getItem('backgroundVariant') || 'default'\r\n  );\r\n  \r\n  // Profile state\r\n  const [profile, setProfile] = useState({\r\n    username: user?.username || '',\r\n    email: user?.email || '',\r\n    currentPassword: '',\r\n    newPassword: '',\r\n    confirmPassword: '',\r\n    firstName: user?.firstName || '',\r\n    lastName: user?.lastName || ''\r\n  });\r\n\r\n  // Setup profile from user context when it changes\r\n  useEffect(() => {\r\n    if (user) {\r\n      setProfile(prevProfile => ({\r\n        ...prevProfile,\r\n        username: user.username || '',\r\n        email: user.email || '',\r\n        firstName: user.firstName || '',\r\n        lastName: user.lastName || ''\r\n      }));\r\n    }\r\n  }, [user]);\r\n\r\n  // Password strength checker\r\n  useEffect(() => {\r\n    if (!profile.newPassword) {\r\n      setPasswordStrength(0);\r\n      return;\r\n    }\r\n\r\n    // Calculate password strength\r\n    let strength = 0;\r\n    \r\n    // Length check\r\n    if (profile.newPassword.length >= 8) strength += 1;\r\n    \r\n    // Contains uppercase\r\n    if (/[A-Z]/.test(profile.newPassword)) strength += 1;\r\n    \r\n    // Contains lowercase\r\n    if (/[a-z]/.test(profile.newPassword)) strength += 1;\r\n    \r\n    // Contains number\r\n    if (/[0-9]/.test(profile.newPassword)) strength += 1;\r\n    \r\n    // Contains special character\r\n    if (/[^A-Za-z0-9]/.test(profile.newPassword)) strength += 1;\r\n    \r\n    setPasswordStrength(strength);\r\n  }, [profile.newPassword]);\r\n\r\n  const resetForm = () => {\r\n    setProfile({\r\n      username: user?.username || '',\r\n      email: user?.email || '',\r\n      currentPassword: '',\r\n      newPassword: '',\r\n      confirmPassword: '',\r\n      firstName: user?.firstName || '',\r\n      lastName: user?.lastName || ''\r\n    });\r\n    setIsEditMode(false);\r\n  };\r\n\r\n  const handleProfileChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setProfile(prevProfile => ({\r\n      ...prevProfile,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const validateForm = () => {\r\n    // Check if passwords match if user is changing password\r\n    if (profile.newPassword) {\r\n      if (!profile.currentPassword) {\r\n        setErrorMessage('Current password is required to set a new password');\r\n        return false;\r\n      }\r\n      if (profile.newPassword !== profile.confirmPassword) {\r\n        setErrorMessage('New passwords do not match');\r\n        return false;\r\n      }\r\n      if (profile.newPassword.length < 6) {\r\n        setErrorMessage('New password must be at least 6 characters');\r\n        return false;\r\n      }\r\n    }\r\n\r\n    // Validate username\r\n    if (!profile.username || profile.username.length < 3) {\r\n      setErrorMessage('Username must be at least 3 characters');\r\n      return false;\r\n    }\r\n\r\n    // Validate email format\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (profile.email && !emailRegex.test(profile.email)) {\r\n      setErrorMessage('Please enter a valid email address');\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  // FAQs data\r\n  const faqs = [\r\n    {\r\n      question: \"How do I change my password?\",\r\n      answer: \"To change your password, click the 'Edit Profile' button, enter your current password and choose a new one. For security, passwords should be at least 8 characters long with a mix of letters, numbers, and special characters.\"\r\n    },\r\n    {\r\n      question: \"What happens if I change my username?\",\r\n      answer: \"If you change your username, you'll be automatically logged out and redirected to the login page. You'll need to log in with your new username but using the same password.\"\r\n    },\r\n    {\r\n      question: \"Can I delete my account?\",\r\n      answer: \"Account deletion is handled by administrators. Please contact your system administrator if you need to delete your account or remove your data from the system.\"\r\n    },\r\n    {\r\n      question: \"How secure is my medical data?\",\r\n      answer: \"All medical data is stored securely and encrypted. We follow industry best practices to ensure your data remains private and is only accessible to authorized personnel.\"\r\n    }\r\n  ];\r\n\r\n  const toggleFaq = (index) => {\r\n    if (expandedFaqIndex === index) {\r\n      setExpandedFaqIndex(null);\r\n    } else {\r\n      setExpandedFaqIndex(index);\r\n    }\r\n  };\r\n\r\n  const updateUserProfile = async () => {\r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setErrorMessage('');\r\n    \r\n    try {\r\n      // Create update payload\r\n      const updateData = {\r\n        username: profile.username,\r\n        email: profile.email,\r\n        first_name: profile.firstName,\r\n        last_name: profile.lastName\r\n      };\r\n\r\n      // Only include password fields if user is changing password\r\n      if (profile.newPassword) {\r\n        updateData.current_password = profile.currentPassword;\r\n        updateData.password = profile.newPassword;\r\n      }\r\n\r\n      console.log('Sending profile update with data:', updateData);\r\n\r\n      // Call API to update user profile\r\n      const response = await axios.put(`/api/users/${user.username}`, updateData);\r\n      \r\n      if (response.data.success) {\r\n        console.log('Profile update successful. Server response:', response.data);\r\n        \r\n        // Check if username changed or password changed\r\n        const usernameChanged = profile.username !== user.username;\r\n        const passwordChanged = profile.newPassword && profile.newPassword.length > 0;\r\n        \r\n        // Username changes require logout and re-login (authentication token is tied to username)\r\n        if (usernameChanged) {\r\n          console.log('Username changed, will need to re-login');\r\n          setSuccessMessage('Username changed successfully! Please login with your new username.');\r\n          \r\n          // Store new username in session storage so login page can prefill it\r\n          sessionStorage.setItem('pendingUsername', profile.username);\r\n          \r\n          // Delayed logout after message is shown\r\n          setTimeout(() => {\r\n            logout();\r\n            navigate('/login');\r\n          }, 3000);\r\n          \r\n          // Return early to prevent additional logic\r\n          return;\r\n        }\r\n        \r\n        // Handle password change - try silent reauthentication if possible\r\n        if (passwordChanged) {\r\n          console.log('Password changed, attempting silent reauthentication');\r\n          \r\n          try {\r\n            // Silent re-login attempt with new password\r\n            const loginResponse = await login(user.username, profile.newPassword);\r\n            if (loginResponse.success) {\r\n              setSuccessMessage('Profile updated successfully!');\r\n              console.log('Silent re-authentication successful');\r\n            } else {\r\n              // This is unlikely to happen - if the profile update worked but re-login failed\r\n              console.warn('Silent re-authentication failed after successful password change');\r\n              setSuccessMessage('Profile updated successfully!');\r\n            }\r\n          } catch (loginError) {\r\n            console.error('Error during silent re-authentication:', loginError);\r\n            // Even if silent re-auth fails, profile was still updated\r\n            setSuccessMessage('Profile updated successfully!');\r\n          }\r\n        } else {\r\n          // Just a regular profile update (no credentials changed)\r\n          console.log('Regular profile update, no credential changes');\r\n          setSuccessMessage('Profile updated successfully!');\r\n        }\r\n        \r\n        // For all changes except username change, update the user context\r\n        updateUserContext({\r\n          firstName: profile.firstName,\r\n          lastName: profile.lastName,\r\n          email: profile.email\r\n        });\r\n        \r\n        console.log('User context updated with new profile information');\r\n        \r\n        // Exit edit mode\r\n        setIsEditMode(false);\r\n        \r\n        // Clear the success message after 3 seconds for normal updates\r\n        setTimeout(() => {\r\n          setSuccessMessage('');\r\n        }, 3000);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating profile:', error);\r\n      \r\n      // Handle error response and show appropriate message\r\n      if (error.response?.status === 401) {\r\n        setErrorMessage('Current password is incorrect. Please try again.');\r\n      } else if (error.response?.status === 403) {\r\n        setErrorMessage('Unauthorized. You do not have permission to update this profile.');\r\n      } else if (error.response?.data?.message) {\r\n        setErrorMessage(error.response.data.message);\r\n      } else {\r\n        setErrorMessage('Failed to update profile. Please try again later.');\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Helper for password strength indicator\r\n  const getPasswordStrengthLabel = () => {\r\n    if (!profile.newPassword) return '';\r\n    \r\n    const labels = ['Very Weak', 'Weak', 'Moderate', 'Strong', 'Very Strong'];\r\n    return labels[Math.min(passwordStrength, 4)];\r\n  };\r\n\r\n  const getPasswordStrengthColor = () => {\r\n    if (!profile.newPassword) return 'bg-gray-200';\r\n    \r\n    const colors = [\r\n      'bg-red-500',           // Very Weak\r\n      'bg-orange-500',        // Weak\r\n      'bg-yellow-500',        // Moderate\r\n      'bg-green-400',         // Strong\r\n      'bg-green-500'          // Very Strong\r\n    ];\r\n    \r\n    return colors[Math.min(passwordStrength, 4)];\r\n  };\r\n\r\n  // Function to handle background variant change\r\n  const handleBackgroundChange = (variant) => {\r\n    setBackgroundVariant(variant);\r\n    localStorage.setItem('backgroundVariant', variant);\r\n    // You might want to dispatch an event or use context to update this globally\r\n  };\r\n\r\n  return (\r\n    <div className={`max-w-4xl mx-auto ${darkMode ? 'text-white' : ''}`}>\r\n      <h1 className={`text-2xl font-semibold mb-6 ${darkMode ? 'text-white' : 'text-gray-900'}`}>Settings</h1>\r\n      \r\n      {/* Success message notification */}\r\n      {successMessage && (\r\n        <div className={`${darkMode ? 'bg-green-900/50 border-green-700' : 'bg-green-50 border-green-200'} border rounded-md p-4 mb-6`}>\r\n          <div className=\"flex\">\r\n            <div className=\"flex-shrink-0\">\r\n              <CheckIcon className={`h-5 w-5 ${darkMode ? 'text-green-300' : 'text-green-400'}`} aria-hidden=\"true\" />\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <p className={`text-sm font-medium ${darkMode ? 'text-green-300' : 'text-green-800'}`}>{successMessage}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Error message notification */}\r\n      {errorMessage && (\r\n        <div className={`${darkMode ? 'bg-red-900/50 border-red-700' : 'bg-red-50 border-red-200'} border rounded-md p-4 mb-6`}>\r\n          <div className=\"flex\">\r\n            <div className=\"flex-shrink-0\">\r\n              <ExclamationCircleIcon className={`h-5 w-5 ${darkMode ? 'text-red-300' : 'text-red-400'}`} aria-hidden=\"true\" />\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <p className={`text-sm font-medium ${darkMode ? 'text-red-300' : 'text-red-800'}`}>{errorMessage}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"space-y-6\">\r\n        {/* Profile Card */}\r\n        <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} shadow sm:rounded-lg`}>\r\n          <div className=\"px-4 py-5 sm:p-6\">\r\n            <div className=\"flex justify-between\">\r\n              <h3 className={`text-lg leading-6 font-medium ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                Profile Information\r\n              </h3>\r\n              <div>\r\n                {!isEditMode ? (\r\n                  <button\r\n                    onClick={() => setIsEditMode(true)}\r\n                    className={`flex items-center px-3 py-1.5 rounded-md ${darkMode ? 'bg-gray-700 hover:bg-gray-600 text-white' : 'bg-gray-100 hover:bg-gray-200 text-gray-700'}`}\r\n                  >\r\n                    <PencilIcon className=\"h-4 w-4 mr-1\" />\r\n                    Edit Profile\r\n                  </button>\r\n                ) : (\r\n                  <div className=\"flex space-x-2\">\r\n                    <button\r\n                      onClick={resetForm}\r\n                      className={`flex items-center px-3 py-1.5 rounded-md ${darkMode ? 'bg-gray-700 hover:bg-gray-600 text-white' : 'bg-gray-100 hover:bg-gray-200 text-gray-700'}`}\r\n                      disabled={isLoading}\r\n                    >\r\n                      <XMarkIcon className=\"h-4 w-4 mr-1\" />\r\n                      Cancel\r\n                    </button>\r\n                    <button\r\n                      onClick={updateUserProfile}\r\n                      className={`flex items-center px-3 py-1.5 rounded-md bg-indigo-600 hover:bg-indigo-700 text-white`}\r\n                      disabled={isLoading}\r\n                    >\r\n                      {isLoading ? (\r\n                        <svg className=\"animate-spin h-4 w-4 mr-1 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                          <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                          <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                        </svg>\r\n                      ) : (\r\n                        <CheckIcon className=\"h-4 w-4 mr-1\" />\r\n                      )}\r\n                      Save Changes\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"mt-5 space-y-4\">\r\n              {/* Form Fields */}\r\n              <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2\">\r\n                <div>\r\n                  <label htmlFor=\"username\" className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                    Username\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"username\"\r\n                    id=\"username\"\r\n                    value={profile.username}\r\n                    onChange={handleProfileChange}\r\n                    disabled={!isEditMode}\r\n                    className={`mt-1 block w-full py-2 px-3 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${!isEditMode ? (darkMode ? 'bg-gray-600' : 'bg-gray-100') : ''}`}\r\n                  />\r\n                  {isEditMode && (\r\n                    <p className={`mt-1 text-xs ${darkMode ? 'text-yellow-300' : 'text-yellow-600'}`}>\r\n                      Changing your username will require you to log in again\r\n                    </p>\r\n                  )}\r\n                </div>\r\n                \r\n                <div>\r\n                  <label htmlFor=\"email\" className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                    Email\r\n                  </label>\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    id=\"email\"\r\n                    value={profile.email}\r\n                    onChange={handleProfileChange}\r\n                    disabled={!isEditMode}\r\n                    className={`mt-1 block w-full py-2 px-3 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${!isEditMode ? (darkMode ? 'bg-gray-600' : 'bg-gray-100') : ''}`}\r\n                  />\r\n                </div>\r\n                \r\n                <div>\r\n                  <label htmlFor=\"firstName\" className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                    First Name\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"firstName\"\r\n                    id=\"firstName\"\r\n                    value={profile.firstName}\r\n                    onChange={handleProfileChange}\r\n                    disabled={!isEditMode}\r\n                    className={`mt-1 block w-full py-2 px-3 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${!isEditMode ? (darkMode ? 'bg-gray-600' : 'bg-gray-100') : ''}`}\r\n                  />\r\n                </div>\r\n                \r\n                <div>\r\n                  <label htmlFor=\"lastName\" className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                    Last Name\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"lastName\"\r\n                    id=\"lastName\"\r\n                    value={profile.lastName}\r\n                    onChange={handleProfileChange}\r\n                    disabled={!isEditMode}\r\n                    className={`mt-1 block w-full py-2 px-3 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${!isEditMode ? (darkMode ? 'bg-gray-600' : 'bg-gray-100') : ''}`}\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Password Fields - Only show when in edit mode */}\r\n              {isEditMode && (\r\n                <div className=\"mt-6\">\r\n                  <h4 className={`text-sm font-medium mb-3 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>Change Password</h4>\r\n                  <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-3\">\r\n                    <div>\r\n                      <label htmlFor=\"currentPassword\" className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                        Current Password\r\n                      </label>\r\n                      <input\r\n                        type=\"password\"\r\n                        name=\"currentPassword\"\r\n                        id=\"currentPassword\"\r\n                        value={profile.currentPassword}\r\n                        onChange={handleProfileChange}\r\n                        className={`mt-1 block w-full py-2 px-3 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label htmlFor=\"newPassword\" className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                        New Password\r\n                      </label>\r\n                      <input\r\n                        type=\"password\"\r\n                        name=\"newPassword\"\r\n                        id=\"newPassword\"\r\n                        value={profile.newPassword}\r\n                        onChange={handleProfileChange}\r\n                        className={`mt-1 block w-full py-2 px-3 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}\r\n                      />\r\n                      {profile.newPassword && (\r\n                        <div className=\"mt-2\">\r\n                          <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\r\n                            <div className={`h-2.5 rounded-full ${getPasswordStrengthColor()}`} style={{ width: `${(passwordStrength / 5) * 100}%` }}></div>\r\n                          </div>\r\n                          <p className={`text-xs mt-1 ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                            Password strength: <span className={`font-medium ${passwordStrength >= 3 ? (darkMode ? 'text-green-300' : 'text-green-600') : (darkMode ? 'text-yellow-300' : 'text-yellow-600')}`}>{getPasswordStrengthLabel()}</span>\r\n                          </p>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label htmlFor=\"confirmPassword\" className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                        Confirm New Password\r\n                      </label>\r\n                      <input\r\n                        type=\"password\"\r\n                        name=\"confirmPassword\"\r\n                        id=\"confirmPassword\"\r\n                        value={profile.confirmPassword}\r\n                        onChange={handleProfileChange}\r\n                        className={`mt-1 block w-full py-2 px-3 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300 bg-white text-gray-900'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}\r\n                      />\r\n                      {profile.newPassword && profile.confirmPassword && (\r\n                        <p className={`mt-1 text-xs ${profile.newPassword === profile.confirmPassword ? (darkMode ? 'text-green-300' : 'text-green-600') : (darkMode ? 'text-red-300' : 'text-red-600')}`}>\r\n                          {profile.newPassword === profile.confirmPassword ? 'Passwords match ✓' : 'Passwords do not match ✗'}\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Theme Toggle Card */}\r\n        <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} shadow sm:rounded-lg`}>\r\n          <div className=\"px-4 py-5 sm:p-6\">\r\n            <h3 className={`text-lg leading-6 font-medium ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n              Appearance\r\n            </h3>\r\n            <div className=\"mt-4 flex items-center justify-between\">\r\n              <span className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                Dark Mode\r\n              </span>\r\n              <button\r\n                onClick={toggleDarkMode}\r\n                className={`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none ${darkMode ? 'bg-indigo-600' : 'bg-gray-300'}`}\r\n              >\r\n                <span className=\"sr-only\">Toggle dark mode</span>\r\n                <span\r\n                  className={`${\r\n                    darkMode ? 'translate-x-6 bg-white text-indigo-600' : 'translate-x-1 bg-white text-gray-400'\r\n                  } inline-block w-4 h-4 transform rounded-full transition-transform relative`}\r\n                >\r\n                  {darkMode ? (\r\n                    <MoonIcon className=\"h-3 w-3 absolute top-0.5 left-0.5\" />\r\n                  ) : (\r\n                    <SunIcon className=\"h-3 w-3 absolute top-0.5 left-0.5\" />\r\n                  )}\r\n                </span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Notification Settings Card */}\r\n        <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} shadow sm:rounded-lg`}>\r\n          <div className=\"px-4 py-5 sm:p-6\">\r\n            <h3 className={`text-lg leading-6 font-medium ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n              Notification Settings\r\n            </h3>\r\n            <div className=\"mt-4 space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                  System Notifications\r\n                </span>\r\n                <button\r\n                  onClick={() => setNotifications(!notifications)}\r\n                  className={`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none ${notifications ? 'bg-indigo-600' : 'bg-gray-300'}`}\r\n                >\r\n                  <span className=\"sr-only\">Toggle notifications</span>\r\n                  <span\r\n                    className={`${\r\n                      notifications ? 'translate-x-6' : 'translate-x-1'\r\n                    } inline-block w-4 h-4 transform bg-white rounded-full transition-transform`}\r\n                  ></span>\r\n                </button>\r\n              </div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                  Email Updates\r\n                </span>\r\n                <button\r\n                  onClick={() => setEmailUpdates(!emailUpdates)}\r\n                  className={`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none ${emailUpdates ? 'bg-indigo-600' : 'bg-gray-300'}`}\r\n                >\r\n                  <span className=\"sr-only\">Toggle email updates</span>\r\n                  <span\r\n                    className={`${\r\n                      emailUpdates ? 'translate-x-6' : 'translate-x-1'\r\n                    } inline-block w-4 h-4 transform bg-white rounded-full transition-transform`}\r\n                  ></span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* FAQ Section */}\r\n      <div className={`mt-8 ${darkMode ? 'bg-gray-800' : 'bg-white'} shadow sm:rounded-lg`}>\r\n        <div className=\"px-4 py-5 sm:p-6\">\r\n          <h3 className={`text-lg leading-6 font-medium ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n            <div className=\"flex items-center\">\r\n              <QuestionMarkCircleIcon className=\"h-5 w-5 mr-2\" />\r\n              Frequently Asked Questions\r\n            </div>\r\n          </h3>\r\n          \r\n          <div className=\"mt-6 space-y-4\">\r\n            {faqs.map((faq, index) => (\r\n              <div \r\n                key={index} \r\n                className={`overflow-hidden ${darkMode ? 'bg-gray-700' : 'bg-gray-50'} rounded-lg transition-all duration-200`}\r\n              >\r\n                <button\r\n                  onClick={() => toggleFaq(index)}\r\n                  className={`w-full px-4 py-3 text-left ${darkMode ? 'hover:bg-gray-600' : 'hover:bg-gray-100'} flex justify-between items-center`}\r\n                >\r\n                  <span className={`font-medium ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                    {faq.question}\r\n                  </span>\r\n                  {expandedFaqIndex === index ? (\r\n                    <ChevronUpIcon className=\"h-5 w-5\" />\r\n                  ) : (\r\n                    <ChevronDownIcon className=\"h-5 w-5\" />\r\n                  )}\r\n                </button>\r\n                \r\n                <div \r\n                  className={`transition-all duration-300 ease-in-out overflow-hidden ${\r\n                    expandedFaqIndex === index ? 'max-h-40 opacity-100' : 'max-h-0 opacity-0'\r\n                  }`}\r\n                >\r\n                  <div className={`px-4 pb-3 text-sm ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                    {faq.answer}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingsPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}